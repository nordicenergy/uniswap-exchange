{"version":3,"sources":["components/OversizedPanel/index.js","assets/images/arrow-down-blue.svg","assets/images/arrow-down-grey.svg","components/AddressInputPanel/index.js","webpack:///./src/assets/images/dropup-blue.svg?fe79","webpack:///./src/assets/images/dropdown-blue.svg?8fdf","components/ContextualInfoNew/index.js","pages/Send/index.js"],"names":["Panel","styled","div","theme","concreteGray","PanelTop","PanelBottom","OversizedPanel","hideTop","hideBottom","children","module","exports","InputPanel","flexColumnNoWrap","lighten","royalBlue","white","ContainerRow","error","salmonRed","mercuryGray","InputContainer","LabelRow","flexRowNoWrap","doveGray","LabelContainer","InputRow","Input","input","chaliceGray","AddressInputPanel","title","initialInput","onChange","onError","t","useTranslation","library","useWeb3Context","useState","setInput","debouncedInput","useDebounce","address","undefined","name","data","setData","setError","useEffect","stale","isAddress","lookupAddress","then","catch","resolveName","type","autoComplete","autoCorrect","autoCapitalize","spellCheck","placeholder","event","target","value","checksummedInput","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","_ref","svgRef","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","SummaryWrapper","SummaryWrapperContainer","Details","ErrorSpan","span","isError","slippageWarning","highSlippageWarning","css","transparentize","warningYellow","ColoredDropup","rest","ColoredDropdown","ContextualInfo","openDetailsText","closeDetailsText","contextualInfo","allowExpand","renderTransactionDetails","showDetails","setShowDetails","onClick","s","role","aria-label","ALLOWED_SLIPPAGE","ethers","utils","bigNumberify","TOKEN_ALLOWED_SLIPPAGE","GAS_MARGIN","BlueSpan","DownArrowBackground","DownArrow","img","clickable","LastSummaryText","ExchangeRateWrapper","ExchangeRate","Flex","calculateEtherTokenOutputFromInput","inputAmount","inputReserve","outputReserve","inputAmountWithFee","mul","numerator","denominator","add","calculateEtherTokenInputFromOutput","outputAmount","sub","constants","One","initialSwapState","independentValue","dependentValue","independentField","inputCurrency","outputCurrency","swapStateReducer","state","action","payload","field","currency","newInputCurrency","newOutputCurrency","getExchangeRate","inputValue","inputDecimals","outputValue","outputDecimals","invert","factor","pow","Swap","account","addTransaction","useTransactionAdder","ReactGA","pageview","window","location","pathname","search","useReducer","swapState","dispatchSwapState","recipient","setRecipient","recipientError","setRecipientError","swapType","getSwapType","useTokenDetails","inputSymbol","symbol","decimals","inputExchangeAddress","exchangeAddress","outputSymbol","outputExchangeAddress","inputExchangeContract","useExchangeContract","outputExchangeContract","contract","inputAllowance","useAddressAllowance","useExchangeReserves","inputReserveETH","reserveETH","inputReserveToken","reserveToken","outputReserveETH","outputReserveToken","inputBalance","useAddressBalance","outputBalance","inputBalanceFormatted","Number","isInteger","amountFormatter","Math","min","outputBalanceFormatted","independentDecimals","dependentDecimals","independentValueParsed","setIndependentValueParsed","dependentValueFormatted","inputValueParsed","inputValueFormatted","outputValueParsed","outputValueFormatted","independentError","setIndependentError","parsedValue","parseUnits","lte","Zero","gte","MaxUint256","Error","token","offset","minimum","maximum","lt","gt","calculateSlippageBounds","dependentValueMinumum","dependentValueMaximum","inputError","setInputError","showUnlock","setShowUnlock","inputValueCalculation","amount","calculatedDependentValue","reserveETHFirst","reserveTokenFirst","reserveETHSecond","reserveTokenSecond","intermediateValue","inverted","setInverted","exchangeRate","exchangeRateInverted","marketRate","firstRate","secondRate","getMarketRate","percentSlippage","abs","percentSlippageFormatted","parseEther","isValid","estimatedText","formatBalance","category","b","text","a","deadline","ceil","Date","now","estimate","ethToTokenTransferInput","method","args","tokenToEthTransferInput","tokenToTokenTransferInput","ethToTokenTransferOutput","tokenToEthTransferOutput","tokenToTokenTransferOutput","estimatedGasLimit","gasLimit","calculateGasMargin","response","description","extraText","extraTextClickHander","valueToSet","onCurrencySelected","onValueChange","selectedTokens","selectedTokenAddress","errorMessage","alt","src","ArrowDownBlue","ArrowDownGrey","disableUnlock","slippageWarningText","renderSummary","disabled","warning"],"mappings":"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","file":"static/js/4.cc24a993.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\n\nconst Panel = styled.div`\n  position: relative;\n  background-color: ${({ theme }) => theme.concreteGray};\n  width: calc(100% - 1rem);\n  margin: 0 auto;\n  border-radius: 0.625rem;\n`\n\nconst PanelTop = styled.div`\n  content: '';\n  position: absolute;\n  top: -0.5rem;\n  left: 0;\n  height: 1rem;\n  width: 100%;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst PanelBottom = styled.div`\n  position: absolute;\n  top: 80%;\n  left: 0;\n  height: 1rem;\n  width: 100%;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nexport default function OversizedPanel({ hideTop, hideBottom, children }) {\n  return (\n    <Panel>\n      {hideTop || <PanelTop />}\n      {children}\n      {hideBottom || <PanelBottom />}\n    </Panel>\n  )\n}\n","module.exports = __webpack_public_path__ + \"static/media/arrow-down-blue.cd061363.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-down-grey.c0dedd2f.svg\";","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'react-i18next'\nimport { useWeb3Context } from 'web3-react'\nimport { lighten } from 'polished'\n\nimport { isAddress } from '../../utils'\nimport { useDebounce } from '../../hooks'\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  box-shadow: 0 4px 8px 0 ${({ theme }) => lighten(0.9, theme.royalBlue)};\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.white};\n  z-index: 1;\n`\n\nconst ContainerRow = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1.25rem;\n  box-shadow: 0 0 0 0.5px ${({ error, theme }) => (error ? theme.salmonRed : theme.mercuryGray)};\n  background-color: ${({ theme }) => theme.white};\n  transition: box-shadow 200ms ease-in-out;\n`\n\nconst InputContainer = styled.div`\n  flex: 1;\n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n`\n\nconst LabelContainer = styled.div`\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  padding: 0.25rem 0.85rem 0.75rem;\n`\n\nconst Input = styled.input`\n  font-size: 1rem;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  width: 0;\n  color: ${({ error, theme }) => (error ? theme.salmonRed : theme.royalBlue)};\n  transition: color 200ms ease-in-out;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ::placeholder {\n    color: ${({ theme }) => theme.chaliceGray};\n  }\n`\n\nexport default function AddressInputPanel({ title, initialInput = '', onChange = () => {}, onError = () => {} }) {\n  const { t } = useTranslation()\n\n  const { library } = useWeb3Context()\n\n  const [input, setInput] = useState(initialInput)\n  const debouncedInput = useDebounce(input, 150)\n\n  const [data, setData] = useState({ address: undefined, name: undefined })\n  const [error, setError] = useState(false)\n\n  // keep data and errors in sync\n  useEffect(() => {\n    onChange({ address: data.address, name: data.name })\n  }, [onChange, data.address, data.name])\n  useEffect(() => {\n    onError(error)\n  }, [onError, error])\n\n  // run parser on debounced input\n  useEffect(() => {\n    let stale = false\n\n    if (isAddress(debouncedInput)) {\n      library\n        .lookupAddress(debouncedInput)\n        .then(name => {\n          if (!stale) {\n            // if an ENS name exists, set it as the destination\n            if (name) {\n              setInput(name)\n            } else {\n              setData({ address: debouncedInput, name: '' })\n              setError(null)\n            }\n          }\n        })\n        .catch(() => {\n          setData({ address: debouncedInput, name: '' })\n          setError(null)\n        })\n    } else {\n      if (debouncedInput !== '') {\n        library\n          .resolveName(debouncedInput)\n          .then(address => {\n            if (!stale) {\n              // if the debounced input name resolves to an address\n              if (address) {\n                setData({ address: address, name: debouncedInput })\n                setError(null)\n              } else {\n                setError(true)\n              }\n            }\n          })\n          .catch(() => {\n            setError(true)\n          })\n      }\n    }\n\n    return () => {\n      stale = true\n    }\n  }, [debouncedInput, library, onChange, onError])\n\n  function onInput(event) {\n    if (data.address !== undefined || data.name !== undefined) {\n      setData({ address: undefined, name: undefined })\n    }\n    if (error !== undefined) {\n      setError()\n    }\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setInput(checksummedInput || input)\n  }\n\n  return (\n    <InputPanel>\n      <ContainerRow error={input !== '' && error}>\n        <InputContainer>\n          <LabelRow>\n            <LabelContainer>\n              <span>{title || t('recipientAddress')}</span>\n            </LabelContainer>\n          </LabelRow>\n          <InputRow>\n            <Input\n              type=\"text\"\n              autoComplete=\"off\"\n              autoCorrect=\"off\"\n              autoCapitalize=\"off\"\n              spellCheck=\"false\"\n              placeholder=\"0x1234...\"\n              error={input !== '' && error}\n              onChange={onInput}\n              value={input}\n            />\n          </InputRow>\n        </InputContainer>\n      </ContainerRow>\n    </InputPanel>\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11.4673 6L6.23364 1L0.999995 6\",\n  stroke: \"#388DFF\"\n});\n\nvar SvgDropupBlue = function SvgDropupBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropupBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropup-blue.b96d70e1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0.97168 1L6.20532 6L11.439 1\",\n  stroke: \"#2F80ED\"\n});\n\nvar SvgDropdownBlue = function SvgDropdownBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropdownBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown-blue.b20914ec.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport styled, { css } from 'styled-components'\nimport { transparentize } from 'polished'\n\nimport { ReactComponent as Dropup } from '../../assets/images/dropup-blue.svg'\nimport { ReactComponent as Dropdown } from '../../assets/images/dropdown-blue.svg'\n\nconst SummaryWrapper = styled.div`\n  color: ${({ error, theme }) => (error ? theme.salmonRed : theme.doveGray)};\n  font-size: 0.75rem;\n  text-align: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n`\n\nconst SummaryWrapperContainer = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  color: ${({ theme }) => theme.royalBlue};\n  text-align: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n\n  img {\n    height: 0.75rem;\n    width: 0.75rem;\n  }\n`\n\nconst Details = styled.div`\n  background-color: ${({ theme }) => theme.concreteGray};\n  padding: 1.5rem;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  margin-top: 1rem;\n`\n\nconst ErrorSpan = styled.span`\n  margin-right: 12px;\n  font-size: 0.75rem;\n  line-height: 0.75rem;\n\n  color: ${({ isError, theme }) => isError && theme.salmonRed};\n  ${({ slippageWarning, highSlippageWarning, theme }) =>\n    highSlippageWarning\n      ? css`\n          color: ${theme.salmonRed};\n          font-weight: 600;\n        `\n      : slippageWarning &&\n        css`\n          background-color: ${transparentize(0.6, theme.warningYellow)};\n          font-weight: 600;\n          padding: 0.25rem;\n        `}\n`\n\nconst WrappedDropup = ({ isError, highSlippageWarning, ...rest }) => <Dropup {...rest} />\nconst ColoredDropup = styled(WrappedDropup)`\n  path {\n    stroke: ${({ isError, theme }) => isError && theme.salmonRed};\n\n    ${({ highSlippageWarning, theme }) =>\n      highSlippageWarning &&\n      css`\n        stroke: ${theme.salmonRed};\n      `}\n  }\n`\n\nconst WrappedDropdown = ({ isError, highSlippageWarning, ...rest }) => <Dropdown {...rest} />\nconst ColoredDropdown = styled(WrappedDropdown)`\n  path {\n    stroke: ${({ isError, theme }) => isError && theme.salmonRed};\n\n    ${({ highSlippageWarning, theme }) =>\n      highSlippageWarning &&\n      css`\n        stroke: ${theme.salmonRed};\n      `}\n  }\n`\n\nexport default function ContextualInfo({\n  openDetailsText = 'Transaction Details',\n  closeDetailsText = 'Hide Details',\n  contextualInfo = '',\n  allowExpand = false,\n  renderTransactionDetails = () => {},\n  isError = false,\n  slippageWarning,\n  highSlippageWarning\n}) {\n  const [showDetails, setShowDetails] = useState(false)\n\n  return !allowExpand ? (\n    <SummaryWrapper>{contextualInfo}</SummaryWrapper>\n  ) : (\n    <>\n      <SummaryWrapperContainer onClick={() => setShowDetails(s => !s)}>\n        <>\n          <ErrorSpan isError={isError} slippageWarning={slippageWarning} highSlippageWarning={highSlippageWarning}>\n            {(slippageWarning || highSlippageWarning) && (\n              <span role=\"img\" aria-label=\"warning\">\n                ⚠️\n              </span>\n            )}\n            {contextualInfo ? contextualInfo : showDetails ? closeDetailsText : openDetailsText}\n          </ErrorSpan>\n          {showDetails ? (\n            <ColoredDropup isError={isError} highSlippageWarning={highSlippageWarning} />\n          ) : (\n            <ColoredDropdown isError={isError} highSlippageWarning={highSlippageWarning} />\n          )}\n        </>\n      </SummaryWrapperContainer>\n      {showDetails && <Details>{renderTransactionDetails()}</Details>}\n    </>\n  )\n}\n","import React, { useState, useReducer, useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport { useTranslation } from 'react-i18next'\nimport { useWeb3Context } from 'web3-react'\nimport { ethers } from 'ethers'\nimport styled from 'styled-components'\n\nimport { Button } from '../../theme'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport NewContextualInfo from '../../components/ContextualInfoNew'\nimport OversizedPanel from '../../components/OversizedPanel'\nimport AddressInputPanel from '../../components/AddressInputPanel'\nimport ArrowDownBlue from '../../assets/images/arrow-down-blue.svg'\nimport ArrowDownGrey from '../../assets/images/arrow-down-grey.svg'\nimport { isAddress, amountFormatter, calculateGasMargin } from '../../utils'\nimport { useExchangeContract } from '../../hooks'\nimport { useTokenDetails } from '../../contexts/Tokens'\nimport { useTransactionAdder } from '../../contexts/Transactions'\nimport { useAddressBalance, useExchangeReserves } from '../../contexts/Balances'\nimport { useAddressAllowance } from '../../contexts/Allowances'\n\nconst INPUT = 0\nconst OUTPUT = 1\n\nconst ETH_TO_TOKEN = 0\nconst TOKEN_TO_ETH = 1\nconst TOKEN_TO_TOKEN = 2\n\n// denominated in bips\nconst ALLOWED_SLIPPAGE = ethers.utils.bigNumberify(200)\nconst TOKEN_ALLOWED_SLIPPAGE = ethers.utils.bigNumberify(400)\n\n// denominated in seconds\nconst DEADLINE_FROM_NOW = 60 * 15\n\n// denominated in bips\nconst GAS_MARGIN = ethers.utils.bigNumberify(1000)\n\nconst BlueSpan = styled.span`\n  color: ${({ theme }) => theme.royalBlue};\n`\n\nconst DownArrowBackground = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: center;\n  align-items: center;\n`\n\nconst DownArrow = styled.img`\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n  padding: 0.875rem;\n  cursor: ${({ clickable }) => clickable && 'pointer'};\n`\n\nconst LastSummaryText = styled.div`\n  margin-top: 1rem;\n`\n\nconst ExchangeRateWrapper = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  padding: 0.5rem 1rem;\n`\n\nconst ExchangeRate = styled.span`\n  flex: 1 1 auto;\n  width: 0;\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst Flex = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 2rem;\n\n  button {\n    max-width: 20rem;\n  }\n`\n\nfunction calculateSlippageBounds(value, token = false) {\n  if (value) {\n    const offset = value.mul(token ? TOKEN_ALLOWED_SLIPPAGE : ALLOWED_SLIPPAGE).div(ethers.utils.bigNumberify(10000))\n    const minimum = value.sub(offset)\n    const maximum = value.add(offset)\n    return {\n      minimum: minimum.lt(ethers.constants.Zero) ? ethers.constants.Zero : minimum,\n      maximum: maximum.gt(ethers.constants.MaxUint256) ? ethers.constants.MaxUint256 : maximum\n    }\n  } else {\n    return {}\n  }\n}\n\nfunction getSwapType(inputCurrency, outputCurrency) {\n  if (!inputCurrency || !outputCurrency) {\n    return null\n  } else if (inputCurrency === 'ETH') {\n    return ETH_TO_TOKEN\n  } else if (outputCurrency === 'ETH') {\n    return TOKEN_TO_ETH\n  } else {\n    return TOKEN_TO_TOKEN\n  }\n}\n\n// this mocks the getInputPrice function, and calculates the required output\nfunction calculateEtherTokenOutputFromInput(inputAmount, inputReserve, outputReserve) {\n  const inputAmountWithFee = inputAmount.mul(ethers.utils.bigNumberify(997))\n  const numerator = inputAmountWithFee.mul(outputReserve)\n  const denominator = inputReserve.mul(ethers.utils.bigNumberify(1000)).add(inputAmountWithFee)\n  return numerator.div(denominator)\n}\n\n// this mocks the getOutputPrice function, and calculates the required input\nfunction calculateEtherTokenInputFromOutput(outputAmount, inputReserve, outputReserve) {\n  const numerator = inputReserve.mul(outputAmount).mul(ethers.utils.bigNumberify(1000))\n  const denominator = outputReserve.sub(outputAmount).mul(ethers.utils.bigNumberify(997))\n  return numerator.div(denominator).add(ethers.constants.One)\n}\n\nconst initialSwapState = {\n  independentValue: '', // this is a user input\n  dependentValue: '', // this is a calculated number\n  independentField: INPUT,\n  inputCurrency: 'ETH',\n  outputCurrency: ''\n}\n\nfunction swapStateReducer(state, action) {\n  switch (action.type) {\n    case 'FLIP_INDEPENDENT': {\n      const { independentField, inputCurrency, outputCurrency } = state\n      return {\n        ...state,\n        dependentValue: '',\n        independentField: independentField === INPUT ? OUTPUT : INPUT,\n        inputCurrency: outputCurrency,\n        outputCurrency: inputCurrency\n      }\n    }\n    case 'SELECT_CURRENCY': {\n      const { inputCurrency, outputCurrency } = state\n      const { field, currency } = action.payload\n\n      const newInputCurrency = field === INPUT ? currency : inputCurrency\n      const newOutputCurrency = field === OUTPUT ? currency : outputCurrency\n\n      if (newInputCurrency === newOutputCurrency) {\n        return {\n          ...state,\n          inputCurrency: field === INPUT ? currency : '',\n          outputCurrency: field === OUTPUT ? currency : ''\n        }\n      } else {\n        return {\n          ...state,\n          inputCurrency: newInputCurrency,\n          outputCurrency: newOutputCurrency\n        }\n      }\n    }\n    case 'UPDATE_INDEPENDENT': {\n      const { field, value } = action.payload\n      return {\n        ...state,\n        independentValue: value,\n        dependentValue: '',\n        independentField: field\n      }\n    }\n    case 'UPDATE_DEPENDENT': {\n      return {\n        ...state,\n        dependentValue: action.payload\n      }\n    }\n    default: {\n      return initialSwapState\n    }\n  }\n}\n\nfunction getExchangeRate(inputValue, inputDecimals, outputValue, outputDecimals, invert = false) {\n  try {\n    if (\n      inputValue &&\n      (inputDecimals || inputDecimals === 0) &&\n      outputValue &&\n      (outputDecimals || outputDecimals === 0)\n    ) {\n      const factor = ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(18))\n\n      if (invert) {\n        return inputValue\n          .mul(factor)\n          .div(outputValue)\n          .mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(outputDecimals)))\n          .div(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(inputDecimals)))\n      } else {\n        return outputValue\n          .mul(factor)\n          .div(inputValue)\n          .mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(inputDecimals)))\n          .div(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(outputDecimals)))\n      }\n    }\n  } catch {}\n}\n\nfunction getMarketRate(\n  swapType,\n  inputReserveETH,\n  inputReserveToken,\n  inputDecimals,\n  outputReserveETH,\n  outputReserveToken,\n  outputDecimals,\n  invert = false\n) {\n  if (swapType === ETH_TO_TOKEN) {\n    return getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals, invert)\n  } else if (swapType === TOKEN_TO_ETH) {\n    return getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18, invert)\n  } else if (swapType === TOKEN_TO_TOKEN) {\n    const factor = ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(18))\n    const firstRate = getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18)\n    const secondRate = getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals)\n    try {\n      return !!(firstRate && secondRate) ? firstRate.mul(secondRate).div(factor) : undefined\n    } catch {}\n  }\n}\n\nexport default function Swap() {\n  const { t } = useTranslation()\n  const { account } = useWeb3Context()\n\n  const addTransaction = useTransactionAdder()\n\n  // analytics\n  useEffect(() => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n  }, [])\n\n  // core swap state\n  const [swapState, dispatchSwapState] = useReducer(swapStateReducer, initialSwapState)\n  const { independentValue, dependentValue, independentField, inputCurrency, outputCurrency } = swapState\n\n  const [recipient, setRecipient] = useState({ address: '', name: '' })\n  const [recipientError, setRecipientError] = useState()\n\n  // get swap type from the currency types\n  const swapType = getSwapType(inputCurrency, outputCurrency)\n\n  // get decimals and exchange addressfor each of the currency types\n  const { symbol: inputSymbol, decimals: inputDecimals, exchangeAddress: inputExchangeAddress } = useTokenDetails(\n    inputCurrency\n  )\n  const { symbol: outputSymbol, decimals: outputDecimals, exchangeAddress: outputExchangeAddress } = useTokenDetails(\n    outputCurrency\n  )\n\n  const inputExchangeContract = useExchangeContract(inputExchangeAddress)\n  const outputExchangeContract = useExchangeContract(outputExchangeAddress)\n  const contract = swapType === ETH_TO_TOKEN ? outputExchangeContract : inputExchangeContract\n\n  // get input allowance\n  const inputAllowance = useAddressAllowance(account, inputCurrency, inputExchangeAddress)\n\n  // fetch reserves for each of the currency types\n  const { reserveETH: inputReserveETH, reserveToken: inputReserveToken } = useExchangeReserves(inputCurrency)\n  const { reserveETH: outputReserveETH, reserveToken: outputReserveToken } = useExchangeReserves(outputCurrency)\n\n  // get balances for each of the currency types\n  const inputBalance = useAddressBalance(account, inputCurrency)\n  const outputBalance = useAddressBalance(account, outputCurrency)\n  const inputBalanceFormatted = !!(inputBalance && Number.isInteger(inputDecimals))\n    ? amountFormatter(inputBalance, inputDecimals, Math.min(4, inputDecimals))\n    : ''\n  const outputBalanceFormatted = !!(outputBalance && Number.isInteger(outputDecimals))\n    ? amountFormatter(outputBalance, outputDecimals, Math.min(4, outputDecimals))\n    : ''\n\n  // compute useful transforms of the data above\n  const independentDecimals = independentField === INPUT ? inputDecimals : outputDecimals\n  const dependentDecimals = independentField === OUTPUT ? inputDecimals : outputDecimals\n\n  // declare/get parsed and formatted versions of input/output values\n  const [independentValueParsed, setIndependentValueParsed] = useState()\n  const dependentValueFormatted = !!(dependentValue && dependentDecimals)\n    ? amountFormatter(dependentValue, dependentDecimals, Math.min(4, dependentDecimals), false)\n    : ''\n  const inputValueParsed = independentField === INPUT ? independentValueParsed : dependentValue\n  const inputValueFormatted = independentField === INPUT ? independentValue : dependentValueFormatted\n  const outputValueParsed = independentField === OUTPUT ? independentValueParsed : dependentValue\n  const outputValueFormatted = independentField === OUTPUT ? independentValue : dependentValueFormatted\n\n  // validate + parse independent value\n  const [independentError, setIndependentError] = useState()\n  useEffect(() => {\n    if (independentValue && independentDecimals) {\n      try {\n        const parsedValue = ethers.utils.parseUnits(independentValue, independentDecimals)\n\n        if (parsedValue.lte(ethers.constants.Zero) || parsedValue.gte(ethers.constants.MaxUint256)) {\n          throw Error()\n        } else {\n          setIndependentValueParsed(parsedValue)\n          setIndependentError(null)\n        }\n      } catch {\n        setIndependentError(t('inputNotValid'))\n      }\n\n      return () => {\n        setIndependentValueParsed()\n        setIndependentError()\n      }\n    }\n  }, [independentValue, independentDecimals, t])\n\n  // calculate slippage from target rate\n  const { minimum: dependentValueMinumum, maximum: dependentValueMaximum } = calculateSlippageBounds(\n    dependentValue,\n    swapType === TOKEN_TO_TOKEN\n  )\n\n  // validate input allowance + balance\n  const [inputError, setInputError] = useState()\n  const [showUnlock, setShowUnlock] = useState(false)\n  useEffect(() => {\n    const inputValueCalculation = independentField === INPUT ? independentValueParsed : dependentValueMaximum\n\n    if (inputBalance && (inputAllowance || inputCurrency === 'ETH') && inputValueCalculation) {\n      if (inputBalance.lt(inputValueCalculation)) {\n        setInputError(t('insufficientBalance'))\n      } else if (inputCurrency !== 'ETH' && inputAllowance.lt(inputValueCalculation)) {\n        setInputError(t('unlockTokenCont'))\n        setShowUnlock(true)\n      } else {\n        setInputError(null)\n        setShowUnlock(false)\n      }\n\n      return () => {\n        setInputError()\n        setShowUnlock(false)\n      }\n    }\n  }, [independentField, independentValueParsed, dependentValueMaximum, inputBalance, inputCurrency, inputAllowance, t])\n\n  // calculate dependent value\n  useEffect(() => {\n    const amount = independentValueParsed\n\n    if (swapType === ETH_TO_TOKEN) {\n      const reserveETH = outputReserveETH\n      const reserveToken = outputReserveToken\n\n      if (amount && reserveETH && reserveToken) {\n        try {\n          const calculatedDependentValue =\n            independentField === INPUT\n              ? calculateEtherTokenOutputFromInput(amount, reserveETH, reserveToken)\n              : calculateEtherTokenInputFromOutput(amount, reserveETH, reserveToken)\n\n          if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n            throw Error()\n          }\n\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n        } catch {\n          setIndependentError(t('insufficientLiquidity'))\n        }\n        return () => {\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n        }\n      }\n    } else if (swapType === TOKEN_TO_ETH) {\n      const reserveETH = inputReserveETH\n      const reserveToken = inputReserveToken\n\n      if (amount && reserveETH && reserveToken) {\n        try {\n          const calculatedDependentValue =\n            independentField === INPUT\n              ? calculateEtherTokenOutputFromInput(amount, reserveToken, reserveETH)\n              : calculateEtherTokenInputFromOutput(amount, reserveToken, reserveETH)\n\n          if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n            throw Error()\n          }\n\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n        } catch {\n          setIndependentError(t('insufficientLiquidity'))\n        }\n        return () => {\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n        }\n      }\n    } else if (swapType === TOKEN_TO_TOKEN) {\n      const reserveETHFirst = inputReserveETH\n      const reserveTokenFirst = inputReserveToken\n\n      const reserveETHSecond = outputReserveETH\n      const reserveTokenSecond = outputReserveToken\n\n      if (amount && reserveETHFirst && reserveTokenFirst && reserveETHSecond && reserveTokenSecond) {\n        try {\n          if (independentField === INPUT) {\n            const intermediateValue = calculateEtherTokenOutputFromInput(amount, reserveTokenFirst, reserveETHFirst)\n            if (intermediateValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            const calculatedDependentValue = calculateEtherTokenOutputFromInput(\n              intermediateValue,\n              reserveETHSecond,\n              reserveTokenSecond\n            )\n            if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n          } else {\n            const intermediateValue = calculateEtherTokenInputFromOutput(amount, reserveETHSecond, reserveTokenSecond)\n            if (intermediateValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            // console.log('hi!', amountFormatter(intermediateValue, ))\n            const calculatedDependentValue = calculateEtherTokenInputFromOutput(\n              intermediateValue,\n              reserveTokenFirst,\n              reserveETHFirst\n            )\n            if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n          }\n        } catch {\n          setIndependentError(t('insufficientLiquidity'))\n        }\n        return () => {\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n        }\n      }\n    }\n  }, [\n    independentValueParsed,\n    swapType,\n    outputReserveETH,\n    outputReserveToken,\n    inputReserveETH,\n    inputReserveToken,\n    independentField,\n    t\n  ])\n\n  const [inverted, setInverted] = useState(false)\n  const exchangeRate = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals)\n  const exchangeRateInverted = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals, true)\n\n  const marketRate = getMarketRate(\n    swapType,\n    inputReserveETH,\n    inputReserveToken,\n    inputDecimals,\n    outputReserveETH,\n    outputReserveToken,\n    outputDecimals\n  )\n\n  const percentSlippage =\n    exchangeRate && marketRate\n      ? exchangeRate\n          .sub(marketRate)\n          .abs()\n          .mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(18)))\n          .div(marketRate)\n          .sub(ethers.utils.bigNumberify(3).mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(15))))\n      : undefined\n  const percentSlippageFormatted = percentSlippage && amountFormatter(percentSlippage, 16, 2)\n  const slippageWarning =\n    percentSlippage &&\n    percentSlippage.gte(ethers.utils.parseEther('.05')) &&\n    percentSlippage.lt(ethers.utils.parseEther('.2')) // [5% - 20%)\n  const highSlippageWarning = percentSlippage && percentSlippage.gte(ethers.utils.parseEther('.2')) // [20+%\n\n  const isValid = exchangeRate && inputError === null && independentError === null && recipientError === null\n\n  const estimatedText = `(${t('estimated')})`\n  function formatBalance(value) {\n    return `Balance: ${value}`\n  }\n\n  function renderTransactionDetails() {\n    ReactGA.event({\n      category: 'TransactionDetail',\n      action: 'Open'\n    })\n\n    const b = text => <BlueSpan>{text}</BlueSpan>\n\n    if (independentField === INPUT) {\n      return (\n        <div>\n          <div>\n            {t('youAreSelling')}{' '}\n            {b(\n              `${amountFormatter(\n                independentValueParsed,\n                independentDecimals,\n                Math.min(4, independentDecimals)\n              )} ${inputSymbol}`\n            )}\n            .\n          </div>\n          <LastSummaryText>\n            {b(recipient.address)} {t('willReceive')}{' '}\n            {b(\n              `${amountFormatter(\n                dependentValueMinumum,\n                dependentDecimals,\n                Math.min(4, dependentDecimals)\n              )} ${outputSymbol}`\n            )}{' '}\n            {t('orTransFail')}\n          </LastSummaryText>\n          <LastSummaryText>\n            {(slippageWarning || highSlippageWarning) && (\n              <span role=\"img\" aria-label=\"warning\">\n                ⚠️\n              </span>\n            )}\n            {t('priceChange')} {b(`${percentSlippageFormatted}%`)}.\n          </LastSummaryText>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <div>\n            {t('youAreSending')}{' '}\n            {b(\n              `${amountFormatter(\n                independentValueParsed,\n                independentDecimals,\n                Math.min(4, independentDecimals)\n              )} ${outputSymbol}`\n            )}{' '}\n            {t('to')} {b(recipient.address)}.\n          </div>\n          <LastSummaryText>\n            {t('itWillCost')}{' '}\n            {b(\n              `${amountFormatter(\n                dependentValueMaximum,\n                dependentDecimals,\n                Math.min(4, dependentDecimals)\n              )} ${inputSymbol}`\n            )}{' '}\n            {t('orTransFail')}\n          </LastSummaryText>\n          <LastSummaryText>\n            {t('priceChange')} {b(`${percentSlippageFormatted}%`)}.\n          </LastSummaryText>\n        </div>\n      )\n    }\n  }\n\n  function renderSummary() {\n    let contextualInfo = ''\n    let isError = false\n\n    if (inputError || independentError) {\n      contextualInfo = inputError || independentError\n      isError = true\n    } else if (!inputCurrency || !outputCurrency) {\n      contextualInfo = t('selectTokenCont')\n    } else if (!independentValue) {\n      contextualInfo = t('enterValueCont')\n    } else if (!recipient.address) {\n      contextualInfo = t('noRecipient')\n    } else if (!isAddress(recipient.address)) {\n      contextualInfo = t('invalidRecipient')\n    } else if (!account) {\n      contextualInfo = t('noWallet')\n      isError = true\n    }\n\n    const slippageWarningText = highSlippageWarning\n      ? t('highSlippageWarning')\n      : slippageWarning\n      ? t('slippageWarning')\n      : ''\n\n    return (\n      <NewContextualInfo\n        openDetailsText={t('transactionDetails')}\n        closeDetailsText={t('hideDetails')}\n        contextualInfo={contextualInfo ? contextualInfo : slippageWarningText}\n        allowExpand={!!(inputCurrency && outputCurrency && inputValueParsed && outputValueParsed && recipient.address)}\n        isError={isError}\n        slippageWarning={slippageWarning && slippageWarningText}\n        highSlippageWarning={highSlippageWarning && slippageWarningText}\n        renderTransactionDetails={renderTransactionDetails}\n      />\n    )\n  }\n\n  async function onSwap() {\n    const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW\n\n    let estimate, method, args, value\n    if (independentField === INPUT) {\n      ReactGA.event({\n        category: `${swapType}`,\n        action: 'TransferInput'\n      })\n\n      if (swapType === ETH_TO_TOKEN) {\n        estimate = contract.estimate.ethToTokenTransferInput\n        method = contract.ethToTokenTransferInput\n        args = [dependentValueMinumum, deadline, recipient.address]\n        value = independentValueParsed\n      } else if (swapType === TOKEN_TO_ETH) {\n        estimate = contract.estimate.tokenToEthTransferInput\n        method = contract.tokenToEthTransferInput\n        args = [independentValueParsed, dependentValueMinumum, deadline, recipient.address]\n        value = ethers.constants.Zero\n      } else if (swapType === TOKEN_TO_TOKEN) {\n        estimate = contract.estimate.tokenToTokenTransferInput\n        method = contract.tokenToTokenTransferInput\n        args = [\n          independentValueParsed,\n          dependentValueMinumum,\n          ethers.constants.One,\n          deadline,\n          recipient.address,\n          outputCurrency\n        ]\n        value = ethers.constants.Zero\n      }\n    } else if (independentField === OUTPUT) {\n      ReactGA.event({\n        category: `${swapType}`,\n        action: 'TransferOutput'\n      })\n\n      if (swapType === ETH_TO_TOKEN) {\n        estimate = contract.estimate.ethToTokenTransferOutput\n        method = contract.ethToTokenTransferOutput\n        args = [independentValueParsed, deadline, recipient.address]\n        value = dependentValueMaximum\n      } else if (swapType === TOKEN_TO_ETH) {\n        estimate = contract.estimate.tokenToEthTransferOutput\n        method = contract.tokenToEthTransferOutput\n        args = [independentValueParsed, dependentValueMaximum, deadline, recipient.address]\n        value = ethers.constants.Zero\n      } else if (swapType === TOKEN_TO_TOKEN) {\n        estimate = contract.estimate.tokenToTokenTransferOutput\n        method = contract.tokenToTokenTransferOutput\n        args = [\n          independentValueParsed,\n          dependentValueMaximum,\n          ethers.constants.MaxUint256,\n          deadline,\n          recipient.address,\n          outputCurrency\n        ]\n        value = ethers.constants.Zero\n      }\n    }\n\n    const estimatedGasLimit = await estimate(...args, { value })\n    method(...args, { value, gasLimit: calculateGasMargin(estimatedGasLimit, GAS_MARGIN) }).then(response => {\n      addTransaction(response)\n    })\n  }\n\n  return (\n    <>\n      <CurrencyInputPanel\n        title={t('input')}\n        description={inputValueFormatted && independentField === OUTPUT ? estimatedText : ''}\n        extraText={inputBalanceFormatted && formatBalance(inputBalanceFormatted)}\n        extraTextClickHander={() => {\n          if (inputBalance && inputDecimals) {\n            const valueToSet = inputCurrency === 'ETH' ? inputBalance.sub(ethers.utils.parseEther('.1')) : inputBalance\n            if (valueToSet.gt(ethers.constants.Zero)) {\n              dispatchSwapState({\n                type: 'UPDATE_INDEPENDENT',\n                payload: { value: amountFormatter(valueToSet, inputDecimals, inputDecimals, false), field: INPUT }\n              })\n            }\n          }\n        }}\n        onCurrencySelected={inputCurrency => {\n          dispatchSwapState({ type: 'SELECT_CURRENCY', payload: { currency: inputCurrency, field: INPUT } })\n        }}\n        onValueChange={inputValue => {\n          dispatchSwapState({ type: 'UPDATE_INDEPENDENT', payload: { value: inputValue, field: INPUT } })\n        }}\n        showUnlock={showUnlock}\n        selectedTokens={[inputCurrency, outputCurrency]}\n        selectedTokenAddress={inputCurrency}\n        value={inputValueFormatted}\n        errorMessage={inputError ? inputError : independentField === INPUT ? independentError : ''}\n      />\n      <OversizedPanel>\n        <DownArrowBackground>\n          <DownArrow\n            onClick={() => {\n              dispatchSwapState({ type: 'FLIP_INDEPENDENT' })\n            }}\n            clickable\n            alt=\"swap\"\n            src={isValid ? ArrowDownBlue : ArrowDownGrey}\n          />\n        </DownArrowBackground>\n      </OversizedPanel>\n      <CurrencyInputPanel\n        title={t('output')}\n        description={outputValueFormatted && independentField === INPUT ? estimatedText : ''}\n        extraText={outputBalanceFormatted && formatBalance(outputBalanceFormatted)}\n        onCurrencySelected={outputCurrency => {\n          dispatchSwapState({ type: 'SELECT_CURRENCY', payload: { currency: outputCurrency, field: OUTPUT } })\n        }}\n        onValueChange={outputValue => {\n          dispatchSwapState({ type: 'UPDATE_INDEPENDENT', payload: { value: outputValue, field: OUTPUT } })\n        }}\n        selectedTokens={[inputCurrency, outputCurrency]}\n        selectedTokenAddress={outputCurrency}\n        value={outputValueFormatted}\n        errorMessage={independentField === OUTPUT ? independentError : ''}\n        disableUnlock\n      />\n      <OversizedPanel>\n        <DownArrowBackground>\n          <DownArrow src={isValid ? ArrowDownBlue : ArrowDownGrey} alt=\"arrow\" />\n        </DownArrowBackground>\n      </OversizedPanel>\n      <AddressInputPanel onChange={setRecipient} onError={setRecipientError} />\n      <OversizedPanel hideBottom>\n        <ExchangeRateWrapper\n          onClick={() => {\n            setInverted(inverted => !inverted)\n          }}\n        >\n          <ExchangeRate>{t('exchangeRate')}</ExchangeRate>\n          {inverted ? (\n            <span>\n              {exchangeRate\n                ? `1 ${outputSymbol} = ${amountFormatter(exchangeRateInverted, 18, 4, false)} ${inputSymbol}`\n                : ' - '}\n            </span>\n          ) : (\n            <span>\n              {exchangeRate\n                ? `1 ${inputSymbol} = ${amountFormatter(exchangeRate, 18, 4, false)} ${outputSymbol}`\n                : ' - '}\n            </span>\n          )}\n        </ExchangeRateWrapper>\n      </OversizedPanel>\n      {renderSummary()}\n      <Flex>\n        <Button disabled={!isValid} onClick={onSwap} warning={highSlippageWarning}>\n          {highSlippageWarning ? t('sendAnyway') : t('send')}\n        </Button>\n      </Flex>\n    </>\n  )\n}\n"],"sourceRoot":""}