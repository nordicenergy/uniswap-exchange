{"version":3,"sources":["webpack:///./src/assets/images/dropup-blue.svg?fe79","../../src/index.ts","../node_modules/@reach/auto-id/es/index.js","../node_modules/@reach/visually-hidden/es/index.js","../node_modules/@reach/rect/es/index.js","../node_modules/@reach/tooltip/es/index.js","webpack:///./src/assets/images/dropdown.svg?d0dc","webpack:///./src/assets/images/ethereum-logo.svg?ca9a","components/TokenLogo/index.js","components/CurrencyInputPanel/index.js","../node_modules/escape-string-regexp/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","SvgDropupBlue","_ref","svgRef","title","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","id","useId","_useState","useState","setId","useEffect","style","border","clip","margin","padding","overflow","position","React","observedNodes","run","state","cb","window","a","newRect","node","b","prop","rafId","observe","wasEmpty","rect","hasRectChanged","callbacks","unobserve","index","cancelAnimationFrame","render","refs","children","didMount","setState","observer","observeRect","onChange","console","warn","didUpdate","_ref3","prevProps","willUnmount","_ref4","Rect","Component","undefined","initialState","useRect","nodeRef","setRect","observerRef","useRef","useLayoutEffect","current","defaultProps","_states","obj","IDLE","FOCUSED","VISIBLE","chart","initial","states","enter","clearContextId","on","mouseenter","focus","clearTimeout","restTimeout","setTimeout","transition","leave","mousemove","mouseleave","mousedown","blur","rest","selectWithKeyboard","globalMouseMove","leavingVisibleTimer","timecomplete","context","action","newContext","stateDef","nextState","Error","nextDef","subscriptions","forEach","fn","subscribe","push","splice","Tooltip","label","ariaLabel","DEBUG_STYLE","_useTooltip","onMouseEnter","onMouseMove","onMouseLeave","onFocus","onKeyDown","onBlur","onMouseDown","isVisible","setIsVisible","triggerRef","triggerRect","checkStyles","handleMouseEnter","handleMouseMove","handleFocus","event","__REACH_DISABLE_TOOLTIPS","handleMouseLeave","handleBlur","handleMouseDown","handleKeyDown","trigger","wrapEvent","tooltip","useTooltip","Fragment","cloneElement","Children","only","TooltipPopup","Portal","TooltipContent","_ref4$position","positionDefault","useAriaLabel","tooltipRef","tooltipRect","role","getStyles","VisuallyHidden","visibility","styles","left","pageXOffset","top","pageYOffset","collisions","right","innerWidth","bottom","innerHeight","directionUp","points","preserveAspectRatio","BAD_IMAGES","Image","styled","img","size","Emoji","span","StyledEthereumLogo","EthereumLogo","TokenLogo","address","error","setError","path","aria-label","isAddress","TOKEN_ICON_API","toLowerCase","alt","src","onError","GAS_MARGIN","ethers","utils","bigNumberify","SubCurrencySelect","button","theme","flexRowNoWrap","zumthorBlue","royalBlue","InputRow","div","Input","BorderlessInput","salmonRed","inputBackground","StyledBorderlessInput","concreteGray","CurrencySelect","selected","textColor","mercuryGray","darken","Aligner","StyledDropDown","DropDown","InputPanel","flexColumnNoWrap","transparentize","shadowColor","Container","malibuBlue","LabelRow","doveGray","LabelContainer","ErrorSpan","TokenModal","ModalHeader","CloseColor","Close","CloseIcon","SearchContainer","TokenModalInfo","TokenList","TokenModalRow","doveGrey","tokenRowHover","mediaWidth","upToMedium","TokenRowLeft","TokenSymbolGroup","TokenFullName","chaliceGray","TokenRowBalance","TokenRowUsd","TokenRowRight","StyledTokenName","SpinnerWrapper","Spinner","CurrencyInputPanel","onValueChange","allBalances","renderInput","onCurrencySelected","description","extraText","extraTextClickHander","errorMessage","disableUnlock","disableTokenSelect","selectedTokenAddress","showUnlock","value","t","useTranslation","modalIsOpen","setModalIsOpen","tokenContract","useTokenContract","selectedTokenExchangeAddress","useTokenDetails","exchangeAddress","pendingApproval","usePendingApproval","addTransaction","useTransactionAdder","allTokens","useAllTokenDetails","account","useWeb3React","userTokenBalance","useAddressBalance","data-tip","onClick","background","color","borderRadius","marginTop","type","min","step","placeholder","e","onKeyPress","which","keyCode","preventDefault","stopPropagation","useUserBalance","estimate","approve","constants","MaxUint256","catch","log","estimatedGas","gasLimit","calculateGasMargin","then","response","approval","symbol","CurrencySelectModal","isOpen","onDismiss","onTokenSelect","searchQuery","setSearchQuery","ethPrice","useETHPriceInUSD","useAllBalances","_usdAmounts","map","k","ethRate","exchangeDetails","tokenBalance","BigNumber","toString","USDRate","times","pow","decimals","usdAmounts","reduce","accumulator","currentValue","tokenList","useMemo","sort","aSymbol","bSymbol","aUSD","bUSD","gt","lt","balance","usdBalance","formatEthBalance","formatTokenBalance","name","filteredTokenList","filter","tokenEntry","tokenEntryKey","match","RegExp","escapeStringRegex","some","m","inputRef","clearInputAndDismiss","Modal","minHeight","maxHeight","initialFocusRef","isMobile","SearchIcon","input","checksummedInput","AddressZero","to","_onTokenSelect","Circle","isNaN","isZero","formatToUsd","matchOperatorsRegex","module","exports","string","TypeError","replace"],"mappings":"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","file":"static/js/0.fdfc2639.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11.4673 6L6.23364 1L0.999995 6\",\n  stroke: \"#001533\"\n});\n\nvar SvgDropupBlue = function SvgDropupBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropupBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropup-blue.8e4fabca.svg\";\nexport { ForwardRef as ReactComponent };","let props: (keyof DOMRect)[] = [\n  'bottom',\n  'height',\n  'left',\n  'right',\n  'top',\n  'width'\n];\n\nlet rectChanged = (a: DOMRect = {} as DOMRect, b: DOMRect = {} as DOMRect) =>\n  props.some(prop => a[prop] !== b[prop]);\n\nlet observedNodes = new Map<HTMLElement, RectProps>();\nlet rafId: number;\n\nlet run = () => {\n  observedNodes.forEach(state => {\n    if (state.hasRectChanged) {\n      state.callbacks.forEach(cb => cb(state.rect));\n      state.hasRectChanged = false;\n    }\n  });\n\n  window.setTimeout(() => {\n    observedNodes.forEach((state, node) => {\n      let newRect = node.getBoundingClientRect();\n      if (rectChanged(newRect, state.rect)) {\n        state.hasRectChanged = true;\n        state.rect = newRect;\n      }\n    });\n  }, 0);\n\n  rafId = window.requestAnimationFrame(run);\n};\n\nexport default (node: HTMLElement, cb: Function) => {\n  return {\n    observe() {\n      let wasEmpty = observedNodes.size === 0;\n      if (observedNodes.has(node)) {\n        observedNodes.get(node)!.callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n      if (wasEmpty) run();\n    },\n\n    unobserve() {\n      let state = observedNodes.get(node);\n      if (state) {\n        // Remove the callback\n        const index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1);\n\n        // Remove the node reference\n        if (!state.callbacks.length) observedNodes.delete(node);\n\n        // Stop the loop\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n};\n\nexport type PartialRect = Partial<DOMRect>;\n\nexport type RectProps = {\n  rect: DOMRect | undefined;\n  hasRectChanged: boolean;\n  callbacks: Function[];\n};\n","import { useState, useEffect } from \"react\";\n\n// Could use UUID but if we hit 9,007,199,254,740,991 unique components over\n// the lifetime of the app before it gets reloaded, I mean ... come on.\n// I don't even know what xillion that is.\n// /me googles\n// Oh duh, quadrillion. Nine quadrillion components. I think we're okay.\nvar id = 0;\nvar genId = function genId() {\n  return ++id;\n};\n\nexport var useId = function useId() {\n  var _useState = useState(null),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useEffect(function () {\n    return setId(genId());\n  }, []);\n  return id;\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from \"react\";\n\nvar style = {\n  border: 0,\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  width: \"1px\",\n  margin: \"-1px\",\n  padding: 0,\n  overflow: \"hidden\",\n  position: \"absolute\"\n};\n\nexport default (function (props) {\n  return React.createElement(\"div\", _extends({ style: style }, props));\n});","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React, { useRef, useState, useLayoutEffect } from \"react\";\nimport Component from \"@reach/component-component\";\nimport observeRect from \"@reach/observe-rect\";\nimport { func, bool } from \"prop-types\";\n\nvar render = function render(_ref) {\n  var refs = _ref.refs,\n      children = _ref.props.children,\n      rect = _ref.state.rect;\n  return children({ ref: function ref(node) {\n      return refs.node = node;\n    }, rect: rect });\n};\n\nvar didMount = function didMount(_ref2) {\n  var setState = _ref2.setState,\n      refs = _ref2.refs,\n      props = _ref2.props;\n\n  if (!refs.node) {\n    console.warn(\"You need to place the ref\");\n    return;\n  }\n  refs.observer = observeRect(refs.node, function (rect) {\n    props.onChange && props.onChange(rect);\n    setState({ rect: rect });\n  });\n  if (props.observe) {\n    refs.observer.observe();\n  }\n};\n\nvar didUpdate = function didUpdate(_ref3) {\n  var refs = _ref3.refs,\n      props = _ref3.props,\n      prevProps = _ref3.prevProps;\n\n  if (props.observe && !prevProps.observe) {\n    refs.observer.observe();\n  } else if (!props.observe && prevProps.observe) {\n    refs.observer.unobserve();\n  }\n};\n\nvar willUnmount = function willUnmount(_ref4) {\n  var refs = _ref4.refs;\n\n  refs.observer.unobserve();\n};\n\nvar Rect = function Rect(props) {\n  return React.createElement(Component, _extends({}, props, {\n    refs: {\n      node: undefined,\n      observer: undefined\n    },\n    initialState: {\n      rect: undefined\n    },\n    didMount: didMount,\n    didUpdate: didUpdate,\n    willUnmount: willUnmount,\n    render: render\n  }));\n};\n\nprocess.env.NODE_ENV !== \"production\" ? Rect.propTypes = {\n  children: func,\n  observe: bool,\n  onChange: func\n} : void 0;\n\nRect.defaultProps = {\n  observe: true\n};\n\nexport function useRect(nodeRef) {\n  var observe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var _useState = useState(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  var observerRef = useRef(null);\n  useLayoutEffect(function () {\n    if (!observerRef.current) {\n      observerRef.current = observeRect(nodeRef.current, setRect);\n    }\n    if (observe) {\n      observerRef.current.observe();\n    }\n    return function () {\n      return observerRef.current.unobserve();\n    };\n  }, [observe]);\n  return rect;\n}\n\nexport default Rect;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _states;\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n////////////////////////////////////////////////////////////////////////////////\n// Welcome to @reach/tooltip!\n//\n// Quick definitions:\n//\n// - \"on rest\" or \"rested on\": describes when the element receives mouse hover\n//   after a short delay (and hopefully soon, touch longpress).\n//\n// - \"activation\": describes a mouse click, keyboard enter, or keyboard space.\n//\n// Only one tooltip can be visible at a time, so we use a global state chart to\n// describe the various states and transitions between states that are\n// possible. With the all the timeouts involved with tooltips it's important to\n// \"make impossible states impossible\" with a state machine.\n//\n// It's also okay to use these module globals because you don't server render\n// tooltips. None of the state is changed outside of user events.\n//\n// There are a few features that are important to understand.\n//\n// 1. Tooltips don't show up until the user has rested on one, we don't\n//    want tooltips popupping up as you move your mouse around the page.\n//\n// 2. Once any tooltip becomes visible, other tooltips nearby should skip\n//    resting and display immediately.\n//\n// 3. Tooltips stick around for a little bit after blur/mouseleave.\n//\n// TODO: Research longpress tooltips on Android, iOS\n// - Probably want to position it by default above, since your thumb\n//   is below and would cover it\n// - I'm thinking after longpress, display the tooltip and cancel any click\n//   events. Then on touchend, so they can read it display the tooltip for\n//   a little while longer in case their hand was obstructing the tooltip.\n\n/* eslint-disable default-case */\n\nimport React, { Fragment, cloneElement, Children, useState, useRef, forwardRef, useEffect } from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport { wrapEvent, checkStyles } from \"@reach/utils\";\nimport Portal from \"@reach/portal\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport { useRect } from \"@reach/rect\";\nimport { node, string, func } from \"prop-types\";\n\n////////////////////////////////////////////////////////////////////////////////\n// ~The states~\n\n// nothing goin' on\nvar IDLE = \"idle\";\n\n// we're considering showing the tooltip, but we're gonna wait a sec\nvar FOCUSED = \"focused\";\n\n// IT'S ON\nvar VISIBLE = \"visible\";\n\n// Focus has left, but we want to keep it visible for a sec\nvar LEAVING_VISIBLE = \"leavingVisible\";\n\n// The user clicked the tool, so we want to hide the thing, we can't just use\n// IDLE because we need to ignore mousemove, etc.\nvar DISMISSED = \"dismissed\";\n\nvar chart = {\n  initial: IDLE,\n  states: (_states = {}, _states[IDLE] = {\n    enter: clearContextId,\n    on: {\n      mouseenter: FOCUSED,\n      focus: VISIBLE\n    }\n  }, _states[FOCUSED] = {\n    enter: startRestTimer,\n    leave: clearRestTimer,\n    on: {\n      mousemove: FOCUSED,\n      mouseleave: IDLE,\n      mousedown: DISMISSED,\n      blur: IDLE,\n      rest: VISIBLE\n    }\n  }, _states[VISIBLE] = {\n    on: {\n      focus: FOCUSED,\n      mouseenter: FOCUSED,\n      mouseleave: LEAVING_VISIBLE,\n      blur: LEAVING_VISIBLE,\n      mousedown: DISMISSED,\n      selectWithKeyboard: DISMISSED,\n      globalMouseMove: LEAVING_VISIBLE\n    }\n  }, _states[LEAVING_VISIBLE] = {\n    enter: startLeavingVisibleTimer,\n    leave: function leave() {\n      clearLeavingVisibleTimer();\n      clearContextId();\n    },\n    on: {\n      mouseenter: VISIBLE,\n      focus: VISIBLE,\n      timecomplete: IDLE\n    }\n  }, _states[DISMISSED] = {\n    leave: function leave() {\n      // allows us to come on back later w/o entering something else first\n      context.id = null;\n    },\n    on: {\n      mouseleave: IDLE,\n      blur: IDLE\n    }\n  }, _states)\n};\n\n// chart context allows us to persist some data around, in Tooltip all we use\n// is the id of the current tooltip being interacted with.\nvar context = { id: null };\nvar state = chart.initial;\n\n////////////////////////////////////////////////////////////////////////////////\n// Finds the next state from the current state + action. If the chart doesn't\n// describe that transition, it will throw.\n//\n// It also manages lifecycles of the machine, (enter/leave hooks on the state\n// chart)\nfunction transition(action, newContext) {\n  var stateDef = chart.states[state];\n  var nextState = stateDef.on[action];\n\n  // Really useful for debugging\n  // console.log({ action, state, nextState, contextId: context.id });\n\n  if (!nextState) {\n    throw new Error(\"Unknown state for action \\\"\" + action + \"\\\" from state \\\"\" + state + \"\\\"\");\n  }\n\n  if (stateDef.leave) {\n    stateDef.leave();\n  }\n\n  if (newContext) {\n    context = newContext;\n  }\n\n  var nextDef = chart.states[nextState];\n  if (nextDef.enter) {\n    nextDef.enter();\n  }\n\n  state = nextState;\n  notify();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Subscriptions:\n//\n// We could require apps to render a <TooltipProvider> around the app and use\n// React context to notify Tooltips of changes to our state machine, instead\n// we manage subscriptions ourselves and simplify the Tooltip API.\n//\n// Maybe if default context could take a hook (instead of just a static value)\n// that was rendered at the root for us, that'd be cool! But it doesn't.\nvar subscriptions = [];\n\nfunction subscribe(fn) {\n  subscriptions.push(fn);\n  return function () {\n    subscriptions.splice(subscriptions.indexOf(fn), 1);\n  };\n}\n\nfunction notify() {\n  subscriptions.forEach(function (fn) {\n    return fn(state, context);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Timeouts:\n\n// Manages when the user \"rests\" on an element. Keeps the interface from being\n// flashing tooltips all the time as the user moves the mouse around the screen.\nvar restTimeout = void 0;\n\nfunction startRestTimer() {\n  clearTimeout(restTimeout);\n  restTimeout = setTimeout(function () {\n    return transition(\"rest\");\n  }, 100);\n}\n\nfunction clearRestTimer() {\n  clearTimeout(restTimeout);\n}\n\n// Manages the delay to hide the tooltip after rest leaves.\nvar leavingVisibleTimer = void 0;\n\nfunction startLeavingVisibleTimer() {\n  clearTimeout(leavingVisibleTimer);\n  leavingVisibleTimer = setTimeout(function () {\n    return transition(\"timecomplete\");\n  }, 500);\n}\n\nfunction clearLeavingVisibleTimer() {\n  clearTimeout(leavingVisibleTimer);\n}\n\n// allows us to come on back later w/o entering something else first after the\n// user leaves or dismisses\nfunction clearContextId() {\n  context.id = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// THE HOOK! It's about time we got to the goods!\nexport function useTooltip() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      onKeyDown = _ref.onKeyDown,\n      onMouseDown = _ref.onMouseDown,\n      ref = _ref.ref,\n      DEBUG_STYLE = _ref.DEBUG_STYLE;\n\n  var id = \"tooltip:\" + useId();\n\n  var _useState = useState(DEBUG_STYLE ? true : context.id === id && state === VISIBLE),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  // hopefully they always pass a ref if they ever pass one\n\n\n  var triggerRef = ref || useRef();\n  var triggerRect = useRect(triggerRef, isVisible);\n\n  useEffect(function () {\n    return subscribe(function () {\n      if (context.id === id && (state === VISIBLE || state === LEAVING_VISIBLE)) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    });\n  }, [id]);\n\n  useEffect(function () {\n    return checkStyles(\"tooltip\");\n  });\n\n  var handleMouseEnter = function handleMouseEnter() {\n    switch (state) {\n      case IDLE:\n      case VISIBLE:\n      case LEAVING_VISIBLE:\n        {\n          transition(\"mouseenter\", { id: id });\n        }\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove() {\n    switch (state) {\n      case FOCUSED:\n        {\n          transition(\"mousemove\", { id: id });\n        }\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (window.__REACH_DISABLE_TOOLTIPS) return;\n    switch (state) {\n      case IDLE:\n      case VISIBLE:\n      case LEAVING_VISIBLE:\n        {\n          transition(\"focus\", { id: id });\n        }\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n      case DISMISSED:\n        {\n          transition(\"mouseleave\");\n        }\n    }\n  };\n\n  var handleBlur = function handleBlur() {\n    // Allow quick click from one tool to another\n    if (context.id !== id) return;\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n      case DISMISSED:\n        {\n          transition(\"blur\");\n        }\n    }\n  };\n\n  var handleMouseDown = function handleMouseDown() {\n    // Allow quick click from one tool to another\n    if (context.id !== id) return;\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n        {\n          transition(\"mousedown\");\n        }\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      switch (state) {\n        case VISIBLE:\n          {\n            transition(\"selectWithKeyboard\");\n          }\n      }\n    }\n  };\n\n  var trigger = {\n    \"aria-describedby\": id,\n    \"data-reach-tooltip-trigger\": \"\",\n    ref: triggerRef,\n    onMouseEnter: wrapEvent(onMouseEnter, handleMouseEnter),\n    onMouseMove: wrapEvent(onMouseMove, handleMouseMove),\n    onFocus: wrapEvent(onFocus, handleFocus),\n    onBlur: wrapEvent(onFocus, handleBlur),\n    onMouseLeave: wrapEvent(onMouseLeave, handleMouseLeave),\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown),\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown)\n  };\n\n  var tooltip = {\n    id: id,\n    triggerRect: triggerRect,\n    isVisible: isVisible\n  };\n\n  return [trigger, tooltip, isVisible];\n}\n\n////////////////////////////////////////////////////////////////////////////////\nexport default function Tooltip(_ref2) {\n  var children = _ref2.children,\n      label = _ref2.label,\n      ariaLabel = _ref2.ariaLabel,\n      DEBUG_STYLE = _ref2.DEBUG_STYLE,\n      rest = _objectWithoutProperties(_ref2, [\"children\", \"label\", \"ariaLabel\", \"DEBUG_STYLE\"]);\n\n  var _useTooltip = useTooltip({ DEBUG_STYLE: DEBUG_STYLE }),\n      trigger = _useTooltip[0],\n      tooltip = _useTooltip[1];\n\n  return React.createElement(\n    Fragment,\n    null,\n    cloneElement(Children.only(children), trigger),\n    React.createElement(TooltipPopup, _extends({\n      label: label,\n      ariaLabel: ariaLabel\n    }, tooltip, rest))\n  );\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Tooltip.propTypes = {\n  children: node.isRequired,\n  label: node.isRequired,\n  ariaLabel: string\n} : void 0;\n\n////////////////////////////////////////////////////////////////////////////////\nvar TooltipPopup = forwardRef(function TooltipPopup(_ref3, forwardRef) {\n  var label = _ref3.label,\n      ariaLabel = _ref3.ariaLabel,\n      position = _ref3.position,\n      isVisible = _ref3.isVisible,\n      id = _ref3.id,\n      triggerRect = _ref3.triggerRect,\n      rest = _objectWithoutProperties(_ref3, [\"label\", \"ariaLabel\", \"position\", \"isVisible\", \"id\", \"triggerRect\"]);\n\n  return isVisible ? React.createElement(\n    Portal,\n    null,\n    React.createElement(TooltipContent, _extends({\n      label: label,\n      ariaLabel: ariaLabel,\n      position: position,\n      isVisible: isVisible,\n      id: id,\n      triggerRect: triggerRect,\n      ref: forwardRef\n    }, rest))\n  ) : null;\n});\n\nexport { TooltipPopup };\nprocess.env.NODE_ENV !== \"production\" ? TooltipPopup.propTypes = {\n  label: node.isRequired,\n  ariaLabel: string,\n  position: func\n} : void 0;\n\n// Need a separate component so that useRect works inside the portal\nvar TooltipContent = forwardRef(function TooltipContent(_ref4, forwardRef) {\n  var label = _ref4.label,\n      ariaLabel = _ref4.ariaLabel,\n      _ref4$position = _ref4.position,\n      position = _ref4$position === undefined ? positionDefault : _ref4$position,\n      isVisible = _ref4.isVisible,\n      id = _ref4.id,\n      triggerRect = _ref4.triggerRect,\n      style = _ref4.style,\n      rest = _objectWithoutProperties(_ref4, [\"label\", \"ariaLabel\", \"position\", \"isVisible\", \"id\", \"triggerRect\", \"style\"]);\n\n  var useAriaLabel = ariaLabel != null;\n  var tooltipRef = useRef();\n  var tooltipRect = useRect(tooltipRef, isVisible);\n  return React.createElement(\n    Fragment,\n    null,\n    React.createElement(\"div\", _extends({\n      \"data-reach-tooltip\": true,\n      role: useAriaLabel ? undefined : \"tooltip\",\n      id: useAriaLabel ? undefined : id,\n      children: label,\n      style: _extends({}, style, getStyles(position, triggerRect, tooltipRect)),\n      ref: function ref(node) {\n        tooltipRef.current = node;\n        if (forwardRef) forwardRef(node);\n      }\n    }, rest)),\n    useAriaLabel && React.createElement(\n      VisuallyHidden,\n      { role: \"tooltip\", id: id },\n      ariaLabel\n    )\n  );\n});\n\n// feels awkward when it's perfectly aligned w/ the trigger\nvar OFFSET = 8;\n\nvar getStyles = function getStyles(position, triggerRect, tooltipRect) {\n  var haventMeasuredTooltipYet = !tooltipRect;\n  if (haventMeasuredTooltipYet) {\n    return { visibility: \"hidden\" };\n  }\n  return position(triggerRect, tooltipRect);\n};\n\nvar positionDefault = function positionDefault(triggerRect, tooltipRect) {\n  var styles = {\n    left: triggerRect.left + window.pageXOffset + \"px\",\n    top: triggerRect.top + triggerRect.height + window.pageYOffset + \"px\"\n  };\n\n  var collisions = {\n    top: triggerRect.top - tooltipRect.height < 0,\n    right: window.innerWidth < triggerRect.left + tooltipRect.width,\n    bottom: window.innerHeight < triggerRect.bottom + tooltipRect.height + OFFSET,\n    left: triggerRect.left - tooltipRect.width < 0\n  };\n\n  var directionRight = collisions.right && !collisions.left;\n  var directionUp = collisions.bottom && !collisions.top;\n\n  return _extends({}, styles, {\n    left: directionRight ? triggerRect.right - tooltipRect.width + window.pageXOffset + \"px\" : triggerRect.left + window.pageXOffset + \"px\",\n    top: directionUp ? triggerRect.top - OFFSET - tooltipRect.height + window.pageYOffset + \"px\" : triggerRect.top + OFFSET + triggerRect.height + window.pageYOffset + \"px\"\n  });\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0.97168 1L6.20532 6L11.439 1\",\n  stroke: \"#AEAEAE\"\n});\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.7d32d2fa.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"polygon\", {\n  fill: \"#343434\",\n  points: \"127.9611 0 125.1661 9.5 125.1661 285.168 127.9611 287.958 255.9231 212.32\"\n}), React.createElement(\"polygon\", {\n  fill: \"#8C8C8C\",\n  points: \"127.962 0 0 212.32 127.962 287.959 127.962 154.158\"\n}), React.createElement(\"polygon\", {\n  fill: \"#3C3C3B\",\n  points: \"127.9611 312.1866 126.3861 314.1066 126.3861 412.3056 127.9611 416.9066 255.9991 236.5866\"\n}), React.createElement(\"polygon\", {\n  fill: \"#8C8C8C\",\n  points: \"127.962 416.9052 127.962 312.1852 0 236.5852\"\n}), React.createElement(\"polygon\", {\n  fill: \"#141414\",\n  points: \"127.9611 287.9577 255.9211 212.3207 127.9611 154.1587\"\n}), React.createElement(\"polygon\", {\n  fill: \"#393939\",\n  points: \"0.0009 212.3208 127.9609 287.9578 127.9609 154.1588\"\n}));\n\nvar SvgEthereumLogo = function SvgEthereumLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"256px\",\n    height: \"417px\",\n    viewBox: \"0 0 256 417\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEthereumLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ethereum-logo.802c6eac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { isAddress } from '../../utils'\n\nimport { ReactComponent as EthereumLogo } from '../../assets/images/ethereum-logo.svg'\n\nconst TOKEN_ICON_API = address =>\n  `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${isAddress(\n    address\n  )}/logo.png`\nconst BAD_IMAGES = {}\n\nconst Image = styled.img`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  background-color: white;\n  border-radius: 1rem;\n`\n\nconst Emoji = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n`\n\nconst StyledEthereumLogo = styled(EthereumLogo)`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n`\n\nexport default function TokenLogo({ address, size = '1rem', ...rest }) {\n  const [error, setError] = useState(false)\n\n  let path = ''\n  if (address === 'ETH') {\n    return <StyledEthereumLogo size={size} />\n  } else if (!error && !BAD_IMAGES[address]) {\n    path = TOKEN_ICON_API(address.toLowerCase())\n  } else {\n    return (\n      <Emoji {...rest} size={size}>\n        <span role=\"img\" aria-label=\"Thinking\">\n          \n        </span>\n      </Emoji>\n    )\n  }\n\n  return (\n    <Image\n      {...rest}\n      alt={address}\n      src={path}\n      size={size}\n      onError={() => {\n        BAD_IMAGES[address] = true\n        setError(true)\n      }}\n    />\n  )\n}\n","import React, { useState, useRef, useMemo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\nimport { ethers } from 'ethers'\nimport { BigNumber } from '@uniswap/sdk'\nimport styled from 'styled-components'\nimport escapeStringRegex from 'escape-string-regexp'\nimport { darken } from 'polished'\nimport Tooltip from '@reach/tooltip'\nimport '@reach/tooltip/styles.css'\nimport { isMobile } from 'react-device-detect'\n\nimport { BorderlessInput } from '../../theme'\nimport { useWeb3React, useTokenContract } from '../../hooks'\nimport { isAddress, calculateGasMargin, formatToUsd, formatTokenBalance, formatEthBalance } from '../../utils'\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\nimport Modal from '../Modal'\nimport TokenLogo from '../TokenLogo'\nimport SearchIcon from '../../assets/images/magnifying-glass.svg'\nimport { useTransactionAdder, usePendingApproval } from '../../contexts/Transactions'\nimport { useTokenDetails, useAllTokenDetails } from '../../contexts/Tokens'\nimport { useAddressBalance } from '../../contexts/Balances'\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\nimport { transparentize } from 'polished'\nimport { Spinner } from '../../theme'\nimport Circle from '../../assets/images/circle-grey.svg'\nimport { useETHPriceInUSD, useAllBalances } from '../../contexts/Balances'\n\nconst GAS_MARGIN = ethers.utils.bigNumberify(1000)\n\nconst SubCurrencySelect = styled.button`\n  ${({ theme }) => theme.flexRowNoWrap}\n  padding: 4px 50px 4px 15px;\n  margin-right: -40px;\n  line-height: 0;\n  height: 2rem;\n  align-items: center;\n  border-radius: 2.5rem;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  background: ${({ theme }) => theme.zumthorBlue};\n  border: 1px solid ${({ theme }) => theme.royalBlue};\n  color: ${({ theme }) => theme.royalBlue};\n`\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n\n  padding: 0.25rem 0.85rem 0.75rem;\n`\n\nconst Input = styled(BorderlessInput)`\n  font-size: 1.5rem;\n  color: ${({ error, theme }) => error && theme.salmonRed};\n  background-color: ${({ theme }) => theme.inputBackground};\n  -moz-appearance: textfield;\n`\n\nconst StyledBorderlessInput = styled(BorderlessInput)`\n  min-height: 2.5rem;\n  flex-shrink: 0;\n  text-align: left;\n  padding-left: 1.6rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  font-size: 1rem;\n  color: ${({ selected, theme }) => (selected ? theme.textColor : theme.royalBlue)};\n  height: 2rem;\n  border: 1px solid ${({ selected, theme }) => (selected ? theme.mercuryGray : theme.royalBlue)};\n  border-radius: 2.5rem;\n  background-color: ${({ selected, theme }) => (selected ? theme.concreteGray : theme.zumthorBlue)};\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n\n  :hover {\n    border: 1px solid\n      ${({ selected, theme }) => (selected ? darken(0.1, theme.mercuryGray) : darken(0.1, theme.royalBlue))};\n  }\n\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.1, theme.royalBlue)};\n  }\n\n  :active {\n    background-color: ${({ theme }) => theme.zumthorBlue};\n  }\n`\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\nconst StyledDropDown = styled(DropDown)`\n  margin: 0 0.5rem 0 0.5rem;\n  height: 35%;\n\n  path {\n    stroke: ${({ selected, theme }) => (selected ? theme.textColor : theme.royalBlue)};\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadowColor)};\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.inputBackground};\n  z-index: 1;\n`\n\nconst Container = styled.div`\n  border-radius: 1.25rem;\n  border: 1px solid ${({ error, theme }) => (error ? theme.salmonRed : theme.mercuryGray)};\n\n  background-color: ${({ theme }) => theme.inputBackground};\n  :focus-within {\n    border: 1px solid ${({ theme }) => theme.malibuBlue};\n  }\n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n  span:hover {\n    cursor: pointer;\n    color: ${({ theme }) => darken(0.2, theme.doveGray)};\n  }\n`\n\nconst LabelContainer = styled.div`\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst ErrorSpan = styled.span`\n  color: ${({ error, theme }) => error && theme.salmonRed};\n  :hover {\n    cursor: pointer;\n    color: ${({ error, theme }) => error && darken(0.1, theme.salmonRed)};\n  }\n`\n\nconst TokenModal = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  width: 100%;\n`\n\nconst ModalHeader = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px 0px 0px 1rem;\n  height: 60px;\n`\n\nconst CloseColor = styled(Close)`\n  path {\n    stroke: ${({ theme }) => theme.textColor};\n  }\n`\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst SearchContainer = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: flex-start;\n  padding: 0.5rem 1.5rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst TokenModalInfo = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  padding: 1rem 1.5rem;\n  margin: 0.25rem 0.5rem;\n  justify-content: center;\n  user-select: none;\n`\n\nconst TokenList = styled.div`\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n`\n\nconst TokenModalRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  cursor: pointer;\n  user-select: none;\n\n  #symbol {\n    color: ${({ theme }) => theme.doveGrey};\n  }\n\n  :hover {\n    background-color: ${({ theme }) => theme.tokenRowHover};\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 0.8rem 1rem;\n    padding-right: 2rem;\n  `}\n`\n\nconst TokenRowLeft = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items : center;\n`\n\nconst TokenSymbolGroup = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  margin-left: 1rem;\n`\n\nconst TokenFullName = styled.div`\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst TokenRowBalance = styled.div`\n  font-size: 1rem;\n  line-height: 20px;\n`\n\nconst TokenRowUsd = styled.div`\n  font-size: 1rem;\n  line-height: 1.5rem;\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst TokenRowRight = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: flex-end;\n`\n\nconst StyledTokenName = styled.span`\n  margin: 0 0.25rem 0 0.25rem;\n`\n\nconst SpinnerWrapper = styled(Spinner)`\n  margin: 0 0.25rem 0 0.25rem;\n  color: ${({ theme }) => theme.chaliceGray};\n  opacity: 0.6;\n`\n\nexport default function CurrencyInputPanel({\n  onValueChange = () => {},\n  allBalances,\n  renderInput,\n  onCurrencySelected = () => {},\n  title,\n  description,\n  extraText,\n  extraTextClickHander = () => {},\n  errorMessage,\n  disableUnlock,\n  disableTokenSelect,\n  selectedTokenAddress = '',\n  showUnlock,\n  value\n}) {\n  const { t } = useTranslation()\n\n  const [modalIsOpen, setModalIsOpen] = useState(false)\n\n  const tokenContract = useTokenContract(selectedTokenAddress)\n  const { exchangeAddress: selectedTokenExchangeAddress } = useTokenDetails(selectedTokenAddress)\n\n  const pendingApproval = usePendingApproval(selectedTokenAddress)\n\n  const addTransaction = useTransactionAdder()\n\n  const allTokens = useAllTokenDetails()\n\n  const { account } = useWeb3React()\n\n  const userTokenBalance = useAddressBalance(account, selectedTokenAddress)\n\n  function renderUnlockButton() {\n    if (disableUnlock || !showUnlock || selectedTokenAddress === 'ETH' || !selectedTokenAddress) {\n      return null\n    } else {\n      if (!pendingApproval) {\n        return (\n          <SubCurrencySelect\n            onClick={async () => {\n              let estimatedGas\n              let useUserBalance = false\n              estimatedGas = await tokenContract.estimate\n                .approve(selectedTokenExchangeAddress, ethers.constants.MaxUint256)\n                .catch(e => {\n                  console.log('Error setting max token approval.')\n                })\n              if (!estimatedGas) {\n                // general fallback for tokens who restrict approval amounts\n                estimatedGas = await tokenContract.estimate.approve(selectedTokenExchangeAddress, userTokenBalance)\n                useUserBalance = true\n              }\n              tokenContract\n                .approve(\n                  selectedTokenExchangeAddress,\n                  useUserBalance ? userTokenBalance : ethers.constants.MaxUint256,\n                  {\n                    gasLimit: calculateGasMargin(estimatedGas, GAS_MARGIN)\n                  }\n                )\n                .then(response => {\n                  addTransaction(response, { approval: selectedTokenAddress })\n                })\n            }}\n          >\n            {t('unlock')}\n          </SubCurrencySelect>\n        )\n      } else {\n        return <SubCurrencySelect>{t('pending')}</SubCurrencySelect>\n      }\n    }\n  }\n\n  function _renderInput() {\n    if (typeof renderInput === 'function') {\n      return renderInput()\n    }\n\n    return (\n      <InputRow>\n        <Input\n          type=\"number\"\n          min=\"0\"\n          step=\"0.000000000000000001\"\n          error={!!errorMessage}\n          placeholder=\"0.0\"\n          onChange={e => onValueChange(e.target.value)}\n          onKeyPress={e => {\n            const charCode = e.which ? e.which : e.keyCode\n\n            // Prevent 'minus' character\n            if (charCode === 45) {\n              e.preventDefault()\n              e.stopPropagation()\n            }\n          }}\n          value={value}\n        />\n        {renderUnlockButton()}\n        <CurrencySelect\n          selected={!!selectedTokenAddress}\n          onClick={() => {\n            if (!disableTokenSelect) {\n              setModalIsOpen(true)\n            }\n          }}\n        >\n          <Aligner>\n            {selectedTokenAddress ? <TokenLogo address={selectedTokenAddress} /> : null}\n            {\n              <StyledTokenName>\n                {(allTokens[selectedTokenAddress] && allTokens[selectedTokenAddress].symbol) || t('selectToken')}\n              </StyledTokenName>\n            }\n            {!disableTokenSelect && <StyledDropDown selected={!!selectedTokenAddress} />}\n          </Aligner>\n        </CurrencySelect>\n      </InputRow>\n    )\n  }\n\n  return (\n    <InputPanel>\n      <Container error={!!errorMessage}>\n        <LabelRow>\n          <LabelContainer>\n            <span>{title}</span> <span>{description}</span>\n          </LabelContainer>\n\n          <ErrorSpan\n            data-tip={'Enter max'}\n            error={!!errorMessage}\n            onClick={() => {\n              extraTextClickHander()\n            }}\n          >\n            <Tooltip\n              label=\"Enter Max\"\n              style={{\n                background: 'hsla(0, 0%, 0%, 0.75)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '24px',\n                padding: '0.5em 1em',\n                marginTop: '-64px'\n              }}\n            >\n              <span>{extraText}</span>\n            </Tooltip>\n          </ErrorSpan>\n        </LabelRow>\n        {_renderInput()}\n      </Container>\n      {!disableTokenSelect && (\n        <CurrencySelectModal\n          isOpen={modalIsOpen}\n          onDismiss={() => {\n            setModalIsOpen(false)\n          }}\n          onTokenSelect={onCurrencySelected}\n          allBalances={allBalances}\n        />\n      )}\n    </InputPanel>\n  )\n}\n\nfunction CurrencySelectModal({ isOpen, onDismiss, onTokenSelect }) {\n  const { t } = useTranslation()\n\n  const [searchQuery, setSearchQuery] = useState('')\n  const { exchangeAddress } = useTokenDetails(searchQuery)\n\n  const allTokens = useAllTokenDetails()\n\n  const { account } = useWeb3React()\n\n  // BigNumber.js instance\n  const ethPrice = useETHPriceInUSD()\n\n  // all balances for both account and exchanges\n  let allBalances = useAllBalances()\n\n  const _usdAmounts = Object.keys(allTokens).map(k => {\n    if (ethPrice && allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n      let ethRate = 1 // default for ETH\n      let exchangeDetails = allBalances[allTokens[k].exchangeAddress]\n      if (\n        exchangeDetails &&\n        exchangeDetails[k] &&\n        exchangeDetails[k].value &&\n        exchangeDetails['ETH'] &&\n        exchangeDetails['ETH'].value\n      ) {\n        const tokenBalance = new BigNumber(exchangeDetails[k].value.toString())\n        const ethBalance = new BigNumber(exchangeDetails['ETH'].value.toString())\n        ethRate = ethBalance.div(tokenBalance)\n      }\n      const USDRate = ethPrice\n        .times(ethRate)\n        .times(new BigNumber(10).pow(allTokens[k].decimals).div(new BigNumber(10).pow(18)))\n      const balanceBigNumber = new BigNumber(allBalances[account][k].value.toString())\n      const usdBalance = balanceBigNumber.times(USDRate).div(new BigNumber(10).pow(allTokens[k].decimals))\n      return usdBalance\n    } else {\n      return null\n    }\n  })\n  const usdAmounts =\n    _usdAmounts &&\n    Object.keys(allTokens).reduce(\n      (accumulator, currentValue, i) => Object.assign({ [currentValue]: _usdAmounts[i] }, accumulator),\n      {}\n    )\n\n  const tokenList = useMemo(() => {\n    return Object.keys(allTokens)\n      .sort((a, b) => {\n        if (allTokens[a].symbol && allTokens[b].symbol) {\n          const aSymbol = allTokens[a].symbol.toLowerCase()\n          const bSymbol = allTokens[b].symbol.toLowerCase()\n\n          // pin ETH to top\n          if (aSymbol === 'ETH'.toLowerCase() || bSymbol === 'ETH'.toLowerCase()) {\n            return aSymbol === bSymbol ? 0 : aSymbol === 'ETH'.toLowerCase() ? -1 : 1\n          }\n\n          // then tokens with balance\n          if (usdAmounts[a] && !usdAmounts[b]) {\n            return -1\n          } else if (usdAmounts[b] && !usdAmounts[a]) {\n            return 1\n          }\n\n          // sort by balance\n          if (usdAmounts[a] && usdAmounts[b]) {\n            const aUSD = usdAmounts[a]\n            const bUSD = usdAmounts[b]\n\n            return aUSD.gt(bUSD) ? -1 : aUSD.lt(bUSD) ? 1 : 0\n          }\n\n          // sort alphabetically\n          return aSymbol < bSymbol ? -1 : aSymbol > bSymbol ? 1 : 0\n        } else {\n          return 0\n        }\n      })\n      .map(k => {\n        let balance\n        let usdBalance\n        // only update if we have data\n        if (k === 'ETH' && allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n          balance = formatEthBalance(allBalances[account][k].value)\n          usdBalance = usdAmounts[k]\n        } else if (allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n          balance = formatTokenBalance(allBalances[account][k].value, allTokens[k].decimals)\n          usdBalance = usdAmounts[k]\n        }\n        return {\n          name: allTokens[k].name,\n          symbol: allTokens[k].symbol,\n          address: k,\n          balance: balance,\n          usdBalance: usdBalance\n        }\n      })\n  }, [allBalances, allTokens, usdAmounts, account])\n\n  const filteredTokenList = useMemo(() => {\n    return tokenList.filter(tokenEntry => {\n      // check the regex for each field\n      const regexMatches = Object.keys(tokenEntry).map(tokenEntryKey => {\n        return (\n          typeof tokenEntry[tokenEntryKey] === 'string' &&\n          !!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), 'i'))\n        )\n      })\n\n      return regexMatches.some(m => m)\n    })\n  }, [tokenList, searchQuery])\n\n  function _onTokenSelect(address) {\n    setSearchQuery('')\n    onTokenSelect(address)\n    onDismiss()\n  }\n\n  function renderTokenList() {\n    if (isAddress(searchQuery) && exchangeAddress === undefined) {\n      return <TokenModalInfo>Searching for Exchange...</TokenModalInfo>\n    }\n    if (isAddress(searchQuery) && exchangeAddress === ethers.constants.AddressZero) {\n      return (\n        <>\n          <TokenModalInfo>{t('noExchange')}</TokenModalInfo>\n          <TokenModalInfo>\n            <Link to={`/create-exchange/${searchQuery}`}>{t('createExchange')}</Link>\n          </TokenModalInfo>\n        </>\n      )\n    }\n    if (!filteredTokenList.length) {\n      return <TokenModalInfo>{t('noExchange')}</TokenModalInfo>\n    }\n\n    return filteredTokenList.map(({ address, symbol, name, balance, usdBalance }) => {\n      return (\n        <TokenModalRow key={address} onClick={() => _onTokenSelect(address)}>\n          <TokenRowLeft>\n            <TokenLogo address={address} size={'2rem'} />\n            <TokenSymbolGroup>\n              <span id=\"symbol\">{symbol}</span>\n              <TokenFullName>{name}</TokenFullName>\n            </TokenSymbolGroup>\n          </TokenRowLeft>\n          <TokenRowRight>\n            {balance ? (\n              <TokenRowBalance>{balance && (balance > 0 || balance === '<0.0001') ? balance : '-'}</TokenRowBalance>\n            ) : account ? (\n              <SpinnerWrapper src={Circle} alt=\"loader\" />\n            ) : (\n              '-'\n            )}\n            <TokenRowUsd>\n              {usdBalance && !usdBalance.isNaN()\n                ? usdBalance.isZero()\n                  ? ''\n                  : usdBalance.lt(0.01)\n                  ? '<$0.01'\n                  : '$' + formatToUsd(usdBalance)\n                : ''}\n            </TokenRowUsd>\n          </TokenRowRight>\n        </TokenModalRow>\n      )\n    })\n  }\n\n  // manage focus on modal show\n  const inputRef = useRef()\n\n  function onInput(event) {\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setSearchQuery(checksummedInput || input)\n  }\n\n  function clearInputAndDismiss() {\n    setSearchQuery('')\n    onDismiss()\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onDismiss={clearInputAndDismiss}\n      minHeight={60}\n      maxHeight={50}\n      initialFocusRef={isMobile ? undefined : inputRef}\n    >\n      <TokenModal>\n        <ModalHeader>\n          <p>Select Token</p>\n          <CloseIcon onClick={clearInputAndDismiss}>\n            <CloseColor alt={'close icon'} />\n          </CloseIcon>\n        </ModalHeader>\n        <SearchContainer>\n          <img src={SearchIcon} alt=\"search\" />\n          <StyledBorderlessInput\n            ref={inputRef}\n            type=\"text\"\n            placeholder={isMobile ? t('searchOrPasteMobile') : t('searchOrPaste')}\n            onChange={onInput}\n          />\n        </SearchContainer>\n        <TokenList>{renderTokenList()}</TokenList>\n      </TokenModal>\n    </Modal>\n  )\n}\n","'use strict';\n\nconst matchOperatorsRegex = /[|\\\\{}()[\\]^$+*?.-]/g;\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn string.replace(matchOperatorsRegex, '\\\\$&');\n};\n"],"sourceRoot":""}