{"ast":null,"code":"import _slicedToArray from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  path {\\n    stroke: \",\";\\n  }\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  width: 100%;\\n  height: 100%;\\n  padding: 2rem 0 2rem 0;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  padding: 1rem;\\n  margin-left: 1rem;\\n  margin-right: 1rem;\\n  font-size: 1rem;\\n  cursor: pointer;\\n  text-decoration: none;\\n  color: \",\";\\n  font-size: 1rem;\\n\\n  &.\",\" {\\n    background-color: \",\";\\n    border-radius: 3rem;\\n    border: 1px solid \",\";\\n    font-weight: 500;\\n    color: \",\";\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  flex: 1 0 auto;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  \",\";\\n  align-items: center;\\n  padding: 1rem 1rem;\\n  font-size: 1rem;\\n  color: \",\";\\n  font-weight: 500;\\n  cursor: pointer;\\n\\n  :hover {\\n    color: \",\";\\n  }\\n\\n  img {\\n    height: 0.75rem;\\n    width: 0.75rem;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useCallback}from'react';import{withRouter,NavLink}from'react-router-dom';import{useTranslation}from'react-i18next';import styled from'styled-components';import OversizedPanel from'../../components/OversizedPanel';import{ReactComponent as Dropdown}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/images/dropdown-blue.svg\";import Modal from'../../components/Modal';import{useBodyKeyDown}from'../../hooks';import{lighten}from'polished';var poolTabOrder=[{path:'/add-liquidity',textKey:'addLiquidity',regex:/\\/add-liquidity/},{path:'/remove-liquidity',textKey:'removeLiquidity',regex:/\\/remove-liquidity/},{path:'/create-exchange',textKey:'createExchange',regex:/\\/create-exchange.*/}];var LiquidityContainer=styled.div(_templateObject(),function(_ref){var theme=_ref.theme;return theme.flexRowNoWrap;},function(_ref2){var theme=_ref2.theme;return theme.royalBlue;},function(_ref3){var theme=_ref3.theme;return lighten(0.1,theme.royalBlue);});var LiquidityLabel=styled.span(_templateObject2());var activeClassName='MODE';var StyledNavLink=styled(NavLink).attrs({activeClassName:activeClassName})(_templateObject3(),function(_ref4){var theme=_ref4.theme;return theme.flexRowNoWrap;},function(_ref5){var theme=_ref5.theme;return theme.doveGray;},activeClassName,function(_ref6){var theme=_ref6.theme;return theme.inputBackground;},function(_ref7){var theme=_ref7.theme;return theme.mercuryGray;},function(_ref8){var theme=_ref8.theme;return theme.royalBlue;});var PoolModal=styled.div(_templateObject4(),function(_ref9){var theme=_ref9.theme;return theme.inputBackground;});var WrappedDropdown=function WrappedDropdown(_ref10){var isError=_ref10.isError,highSlippageWarning=_ref10.highSlippageWarning,rest=_objectWithoutProperties(_ref10,[\"isError\",\"highSlippageWarning\"]);return React.createElement(Dropdown,rest);};var ColoredDropdown=styled(WrappedDropdown)(_templateObject5(),function(_ref11){var theme=_ref11.theme;return theme.royalBlue;});function ModeSelector(_ref12){var pathname=_ref12.location.pathname,history=_ref12.history;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1];var activeTabKey=poolTabOrder[poolTabOrder.findIndex(function(_ref13){var regex=_ref13.regex;return pathname.match(regex);})].textKey;var navigate=useCallback(function(direction){var tabIndex=poolTabOrder.findIndex(function(_ref14){var regex=_ref14.regex;return pathname.match(regex);});history.push(poolTabOrder[(tabIndex+poolTabOrder.length+direction)%poolTabOrder.length].path);},[pathname,history]);var navigateRight=useCallback(function(){navigate(1);},[navigate]);var navigateLeft=useCallback(function(){navigate(-1);},[navigate]);useBodyKeyDown('ArrowDown',navigateRight,modalIsOpen);useBodyKeyDown('ArrowUp',navigateLeft,modalIsOpen);return React.createElement(OversizedPanel,{hideTop:true},React.createElement(LiquidityContainer,{onClick:function onClick(){setModalIsOpen(true);}},React.createElement(LiquidityLabel,null,t(activeTabKey)),React.createElement(ColoredDropdown,{alt:\"arrow down\"})),React.createElement(Modal,{isOpen:modalIsOpen,maxHeight:50,onDismiss:function onDismiss(){setModalIsOpen(false);}},React.createElement(PoolModal,null,poolTabOrder.map(function(_ref15){var path=_ref15.path,textKey=_ref15.textKey,regex=_ref15.regex;return React.createElement(StyledNavLink,{key:path,to:path,isActive:function isActive(_,_ref16){var pathname=_ref16.pathname;return pathname.match(regex);},onClick:function onClick(){setModalIsOpen(false);}},t(textKey));}))));}export default withRouter(ModeSelector);","map":{"version":3,"sources":["/workspace/uniswap-exchange/src/pages/Pool/ModeSelector.js"],"names":["React","useState","useCallback","withRouter","NavLink","useTranslation","styled","OversizedPanel","Modal","useBodyKeyDown","lighten","poolTabOrder","path","textKey","regex","LiquidityContainer","div","theme","flexRowNoWrap","royalBlue","LiquidityLabel","span","activeClassName","StyledNavLink","attrs","doveGray","inputBackground","mercuryGray","PoolModal","WrappedDropdown","isError","highSlippageWarning","rest","ColoredDropdown","ModeSelector","pathname","location","history","t","modalIsOpen","setModalIsOpen","activeTabKey","findIndex","match","navigate","direction","tabIndex","push","length","navigateRight","navigateLeft","map","_"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { withRouter, NavLink } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\nimport styled from 'styled-components'\n\nimport OversizedPanel from '../../components/OversizedPanel'\nimport { ReactComponent as Dropdown } from '../../assets/images/dropdown-blue.svg'\n\nimport Modal from '../../components/Modal'\nimport { useBodyKeyDown } from '../../hooks'\n\nimport { lighten } from 'polished'\n\nconst poolTabOrder = [\n  {\n    path: '/add-liquidity',\n    textKey: 'addLiquidity',\n    regex: /\\/add-liquidity/\n  },\n  {\n    path: '/remove-liquidity',\n    textKey: 'removeLiquidity',\n    regex: /\\/remove-liquidity/\n  },\n  {\n    path: '/create-exchange',\n    textKey: 'createExchange',\n    regex: /\\/create-exchange.*/\n  }\n]\n\nconst LiquidityContainer = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  padding: 1rem 1rem;\n  font-size: 1rem;\n  color: ${({ theme }) => theme.royalBlue};\n  font-weight: 500;\n  cursor: pointer;\n\n  :hover {\n    color: ${({ theme }) => lighten(0.1, theme.royalBlue)};\n  }\n\n  img {\n    height: 0.75rem;\n    width: 0.75rem;\n  }\n`\n\nconst LiquidityLabel = styled.span`\n  flex: 1 0 auto;\n`\n\nconst activeClassName = 'MODE'\n\nconst StyledNavLink = styled(NavLink).attrs({\n  activeClassName\n})`\n  ${({ theme }) => theme.flexRowNoWrap}\n  padding: 1rem;\n  margin-left: 1rem;\n  margin-right: 1rem;\n  font-size: 1rem;\n  cursor: pointer;\n  text-decoration: none;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 1rem;\n\n  &.${activeClassName} {\n    background-color: ${({ theme }) => theme.inputBackground};\n    border-radius: 3rem;\n    border: 1px solid ${({ theme }) => theme.mercuryGray};\n    font-weight: 500;\n    color: ${({ theme }) => theme.royalBlue};\n  }\n`\n\nconst PoolModal = styled.div`\n  background-color: ${({ theme }) => theme.inputBackground};\n  width: 100%;\n  height: 100%;\n  padding: 2rem 0 2rem 0;\n`\n\nconst WrappedDropdown = ({ isError, highSlippageWarning, ...rest }) => <Dropdown {...rest} />\nconst ColoredDropdown = styled(WrappedDropdown)`\n  path {\n    stroke: ${({ theme }) => theme.royalBlue};\n  }\n`\n\nfunction ModeSelector({ location: { pathname }, history }) {\n  const { t } = useTranslation()\n\n  const [modalIsOpen, setModalIsOpen] = useState(false)\n\n  const activeTabKey = poolTabOrder[poolTabOrder.findIndex(({ regex }) => pathname.match(regex))].textKey\n\n  const navigate = useCallback(\n    direction => {\n      const tabIndex = poolTabOrder.findIndex(({ regex }) => pathname.match(regex))\n      history.push(poolTabOrder[(tabIndex + poolTabOrder.length + direction) % poolTabOrder.length].path)\n    },\n    [pathname, history]\n  )\n  const navigateRight = useCallback(() => {\n    navigate(1)\n  }, [navigate])\n  const navigateLeft = useCallback(() => {\n    navigate(-1)\n  }, [navigate])\n\n  useBodyKeyDown('ArrowDown', navigateRight, modalIsOpen)\n  useBodyKeyDown('ArrowUp', navigateLeft, modalIsOpen)\n\n  return (\n    <OversizedPanel hideTop>\n      <LiquidityContainer\n        onClick={() => {\n          setModalIsOpen(true)\n        }}\n      >\n        <LiquidityLabel>{t(activeTabKey)}</LiquidityLabel>\n        <ColoredDropdown alt=\"arrow down\" />\n      </LiquidityContainer>\n      <Modal\n        isOpen={modalIsOpen}\n        maxHeight={50}\n        onDismiss={() => {\n          setModalIsOpen(false)\n        }}\n      >\n        <PoolModal>\n          {poolTabOrder.map(({ path, textKey, regex }) => (\n            <StyledNavLink\n              key={path}\n              to={path}\n              isActive={(_, { pathname }) => pathname.match(regex)}\n              onClick={() => {\n                setModalIsOpen(false)\n              }}\n            >\n              {t(textKey)}\n            </StyledNavLink>\n          ))}\n        </PoolModal>\n      </Modal>\n    </OversizedPanel>\n  )\n}\n\nexport default withRouter(ModeSelector)\n"]},"metadata":{},"sourceType":"module"}