{"ast":null,"code":"import _slicedToArray from\"/workspace/uniswap-exchange/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/workspace/uniswap-exchange/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/workspace/uniswap-exchange/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{createContext,useContext,useReducer,useMemo,useCallback,useEffect}from'react';import{useWeb3Context}from'web3-react';import{safeAccess}from'../utils';import{useBlockNumber}from'./Application';var RESPONSE='response';var CUSTOM_DATA='CUSTOM_DATA';var BLOCK_NUMBER_CHECKED='BLOCK_NUMBER_CHECKED';var RECEIPT='receipt';var ADD='ADD';var CHECK='CHECK';var FINALIZE='FINALIZE';var TransactionsContext=createContext();export function useTransactionsContext(){return useContext(TransactionsContext);}function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case ADD:{var networkId=payload.networkId,hash=payload.hash,response=payload.response;if(safeAccess(state,[networkId,hash])!==null){throw Error('Attempted to add existing transaction.');}return _objectSpread({},state,_defineProperty({},networkId,_objectSpread({},safeAccess(state,[networkId])||{},_defineProperty({},hash,_defineProperty({},RESPONSE,response)))));}case CHECK:{var _networkId=payload.networkId,_hash2=payload.hash,blockNumber=payload.blockNumber;if(safeAccess(state,[_networkId,_hash2])===null){throw Error('Attempted to check non-existent transaction.');}return _objectSpread({},state,_defineProperty({},_networkId,_objectSpread({},safeAccess(state,[_networkId])||{},_defineProperty({},_hash2,_objectSpread({},safeAccess(state,[_networkId,_hash2])||{},_defineProperty({},BLOCK_NUMBER_CHECKED,blockNumber))))));}case FINALIZE:{var _networkId2=payload.networkId,_hash3=payload.hash,receipt=payload.receipt;if(safeAccess(state,[_networkId2,_hash3])===null){throw Error('Attempted to finalize non-existent transaction.');}return _objectSpread({},state,_defineProperty({},_networkId2,_objectSpread({},safeAccess(state,[_networkId2])||{},_defineProperty({},_hash3,_objectSpread({},safeAccess(state,[_networkId2,_hash3])||{},_defineProperty({},RECEIPT,receipt))))));}default:{throw Error(\"Unexpected action type in TransactionsContext reducer: '\".concat(type,\"'.\"));}}}export default function Provider(_ref2){var children=_ref2.children;var _useReducer=useReducer(reducer,{}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var add=useCallback(function(networkId,hash,response){dispatch({type:ADD,payload:{networkId:networkId,hash:hash,response:response}});},[]);var check=useCallback(function(networkId,hash,blockNumber){dispatch({type:CHECK,payload:{networkId:networkId,hash:hash,blockNumber:blockNumber}});},[]);var finalize=useCallback(function(networkId,hash,receipt){dispatch({type:FINALIZE,payload:{networkId:networkId,hash:hash,receipt:receipt}});},[]);return React.createElement(TransactionsContext.Provider,{value:useMemo(function(){return[state,{add:add,check:check,finalize:finalize}];},[state,add,check,finalize])},children);}export function Updater(){var _useWeb3Context=useWeb3Context(),networkId=_useWeb3Context.networkId,library=_useWeb3Context.library;var globalBlockNumber=useBlockNumber();var _useTransactionsConte=useTransactionsContext(),_useTransactionsConte2=_slicedToArray(_useTransactionsConte,2),state=_useTransactionsConte2[0],_useTransactionsConte3=_useTransactionsConte2[1],check=_useTransactionsConte3.check,finalize=_useTransactionsConte3.finalize;var allTransactions=safeAccess(state,[networkId])||{};useEffect(function(){if((networkId||networkId===0)&&library){var stale=false;Object.keys(allTransactions).filter(function(hash){return!allTransactions[hash][RECEIPT]&&allTransactions[hash][BLOCK_NUMBER_CHECKED]!==globalBlockNumber;}).forEach(function(hash){library.getTransactionReceipt(hash).then(function(receipt){if(!stale){if(!receipt){check(networkId,hash,globalBlockNumber);}else{finalize(networkId,hash,receipt);}}}).catch(function(){check(networkId,hash,globalBlockNumber);});});return function(){stale=true;};}},[networkId,library,allTransactions,globalBlockNumber,check,finalize]);return null;}export function useTransactionAdder(){var _useWeb3Context2=useWeb3Context(),networkId=_useWeb3Context2.networkId;var _useTransactionsConte4=useTransactionsContext(),_useTransactionsConte5=_slicedToArray(_useTransactionsConte4,2),add=_useTransactionsConte5[1].add;return useCallback(function(response){var customData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(networkId||networkId===0)){throw Error(\"Invalid networkId '\".concat(networkId));}var hash=safeAccess(response,['hash']);if(!hash){throw Error('No transaction hash found.');}add(networkId,hash,_objectSpread({},response,_defineProperty({},CUSTOM_DATA,customData)));},[networkId,add]);}export function useAllTransactions(){var _useWeb3Context3=useWeb3Context(),networkId=_useWeb3Context3.networkId;var _useTransactionsConte6=useTransactionsContext(),_useTransactionsConte7=_slicedToArray(_useTransactionsConte6,1),state=_useTransactionsConte7[0];return safeAccess(state,[networkId])||{};}export function usePendingApproval(tokenAddress){var allTransactions=useAllTransactions();return Object.keys(allTransactions).filter(function(hash){if(allTransactions[hash][RECEIPT]){return false;}else if(!allTransactions[hash][RESPONSE]){return false;}else if(allTransactions[hash][RESPONSE][CUSTOM_DATA].approval!==tokenAddress){return false;}else{return true;}}).length>=1;}","map":{"version":3,"sources":["/workspace/uniswap-exchange/src/contexts/Transactions.js"],"names":["React","createContext","useContext","useReducer","useMemo","useCallback","useEffect","useWeb3Context","safeAccess","useBlockNumber","RESPONSE","CUSTOM_DATA","BLOCK_NUMBER_CHECKED","RECEIPT","ADD","CHECK","FINALIZE","TransactionsContext","useTransactionsContext","reducer","state","type","payload","networkId","hash","response","Error","blockNumber","receipt","Provider","children","dispatch","add","check","finalize","Updater","library","globalBlockNumber","allTransactions","stale","Object","keys","filter","forEach","getTransactionReceipt","then","catch","useTransactionAdder","customData","useAllTransactions","usePendingApproval","tokenAddress","approval","length"],"mappings":"2UAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,UAA3C,CAAuDC,OAAvD,CAAgEC,WAAhE,CAA6EC,SAA7E,KAA8F,OAA9F,CACA,OAASC,cAAT,KAA+B,YAA/B,CAEA,OAASC,UAAT,KAA2B,UAA3B,CACA,OAASC,cAAT,KAA+B,eAA/B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,UAAjB,CACA,GAAMC,CAAAA,WAAW,CAAG,aAApB,CACA,GAAMC,CAAAA,oBAAoB,CAAG,sBAA7B,CACA,GAAMC,CAAAA,OAAO,CAAG,SAAhB,CAEA,GAAMC,CAAAA,GAAG,CAAG,KAAZ,CACA,GAAMC,CAAAA,KAAK,CAAG,OAAd,CACA,GAAMC,CAAAA,QAAQ,CAAG,UAAjB,CAEA,GAAMC,CAAAA,mBAAmB,CAAGhB,aAAa,EAAzC,CAEA,MAAO,SAASiB,CAAAA,sBAAT,EAAkC,CACvC,MAAOhB,CAAAA,UAAU,CAACe,mBAAD,CAAjB,CACD,CAED,QAASE,CAAAA,OAAT,CAAiBC,KAAjB,MAA2C,IAAjBC,CAAAA,IAAiB,MAAjBA,IAAiB,CAAXC,OAAW,MAAXA,OAAW,CACzC,OAAQD,IAAR,EACE,IAAKP,CAAAA,GAAL,CAAU,IACAS,CAAAA,SADA,CAC8BD,OAD9B,CACAC,SADA,CACWC,IADX,CAC8BF,OAD9B,CACWE,IADX,CACiBC,QADjB,CAC8BH,OAD9B,CACiBG,QADjB,CAGR,GAAIjB,UAAU,CAACY,KAAD,CAAQ,CAACG,SAAD,CAAYC,IAAZ,CAAR,CAAV,GAAyC,IAA7C,CAAmD,CACjD,KAAME,CAAAA,KAAK,CAAC,wCAAD,CAAX,CACD,CAED,wBACKN,KADL,oBAEGG,SAFH,kBAGQf,UAAU,CAACY,KAAD,CAAQ,CAACG,SAAD,CAAR,CAAV,EAAkC,EAH1C,oBAIKC,IAJL,oBAKOd,QALP,CAKkBe,QALlB,MASD,CACD,IAAKV,CAAAA,KAAL,CAAY,IACFQ,CAAAA,UADE,CAC+BD,OAD/B,CACFC,SADE,CACSC,MADT,CAC+BF,OAD/B,CACSE,IADT,CACeG,WADf,CAC+BL,OAD/B,CACeK,WADf,CAGV,GAAInB,UAAU,CAACY,KAAD,CAAQ,CAACG,UAAD,CAAYC,MAAZ,CAAR,CAAV,GAAyC,IAA7C,CAAmD,CACjD,KAAME,CAAAA,KAAK,CAAC,8CAAD,CAAX,CACD,CAED,wBACKN,KADL,oBAEGG,UAFH,kBAGQf,UAAU,CAACY,KAAD,CAAQ,CAACG,UAAD,CAAR,CAAV,EAAkC,EAH1C,oBAIKC,MAJL,kBAKUhB,UAAU,CAACY,KAAD,CAAQ,CAACG,UAAD,CAAYC,MAAZ,CAAR,CAAV,EAAwC,EALlD,oBAMOZ,oBANP,CAM8Be,WAN9B,OAUD,CACD,IAAKX,CAAAA,QAAL,CAAe,IACLO,CAAAA,WADK,CACwBD,OADxB,CACLC,SADK,CACMC,MADN,CACwBF,OADxB,CACME,IADN,CACYI,OADZ,CACwBN,OADxB,CACYM,OADZ,CAGb,GAAIpB,UAAU,CAACY,KAAD,CAAQ,CAACG,WAAD,CAAYC,MAAZ,CAAR,CAAV,GAAyC,IAA7C,CAAmD,CACjD,KAAME,CAAAA,KAAK,CAAC,iDAAD,CAAX,CACD,CAED,wBACKN,KADL,oBAEGG,WAFH,kBAGQf,UAAU,CAACY,KAAD,CAAQ,CAACG,WAAD,CAAR,CAAV,EAAkC,EAH1C,oBAIKC,MAJL,kBAKUhB,UAAU,CAACY,KAAD,CAAQ,CAACG,WAAD,CAAYC,MAAZ,CAAR,CAAV,EAAwC,EALlD,oBAMOX,OANP,CAMiBe,OANjB,OAUD,CACD,QAAS,CACP,KAAMF,CAAAA,KAAK,mEAA4DL,IAA5D,OAAX,CACD,CAxDH,CA0DD,CAED,cAAe,SAASQ,CAAAA,QAAT,OAAgC,IAAZC,CAAAA,QAAY,OAAZA,QAAY,iBACnB3B,UAAU,CAACgB,OAAD,CAAU,EAAV,CADS,4CACtCC,KADsC,iBAC/BW,QAD+B,iBAG7C,GAAMC,CAAAA,GAAG,CAAG3B,WAAW,CAAC,SAACkB,SAAD,CAAYC,IAAZ,CAAkBC,QAAlB,CAA+B,CACrDM,QAAQ,CAAC,CAAEV,IAAI,CAAEP,GAAR,CAAaQ,OAAO,CAAE,CAAEC,SAAS,CAATA,SAAF,CAAaC,IAAI,CAAJA,IAAb,CAAmBC,QAAQ,CAARA,QAAnB,CAAtB,CAAD,CAAR,CACD,CAFsB,CAEpB,EAFoB,CAAvB,CAGA,GAAMQ,CAAAA,KAAK,CAAG5B,WAAW,CAAC,SAACkB,SAAD,CAAYC,IAAZ,CAAkBG,WAAlB,CAAkC,CAC1DI,QAAQ,CAAC,CAAEV,IAAI,CAAEN,KAAR,CAAeO,OAAO,CAAE,CAAEC,SAAS,CAATA,SAAF,CAAaC,IAAI,CAAJA,IAAb,CAAmBG,WAAW,CAAXA,WAAnB,CAAxB,CAAD,CAAR,CACD,CAFwB,CAEtB,EAFsB,CAAzB,CAGA,GAAMO,CAAAA,QAAQ,CAAG7B,WAAW,CAAC,SAACkB,SAAD,CAAYC,IAAZ,CAAkBI,OAAlB,CAA8B,CACzDG,QAAQ,CAAC,CAAEV,IAAI,CAAEL,QAAR,CAAkBM,OAAO,CAAE,CAAEC,SAAS,CAATA,SAAF,CAAaC,IAAI,CAAJA,IAAb,CAAmBI,OAAO,CAAPA,OAAnB,CAA3B,CAAD,CAAR,CACD,CAF2B,CAEzB,EAFyB,CAA5B,CAIA,MACE,qBAAC,mBAAD,CAAqB,QAArB,EACE,KAAK,CAAExB,OAAO,CAAC,iBAAM,CAACgB,KAAD,CAAQ,CAAEY,GAAG,CAAHA,GAAF,CAAOC,KAAK,CAALA,KAAP,CAAcC,QAAQ,CAARA,QAAd,CAAR,CAAN,EAAD,CAA0C,CAACd,KAAD,CAAQY,GAAR,CAAaC,KAAb,CAAoBC,QAApB,CAA1C,CADhB,EAGGJ,QAHH,CADF,CAOD,CAED,MAAO,SAASK,CAAAA,OAAT,EAAmB,qBACO5B,cAAc,EADrB,CAChBgB,SADgB,iBAChBA,SADgB,CACLa,OADK,iBACLA,OADK,CAGxB,GAAMC,CAAAA,iBAAiB,CAAG5B,cAAc,EAAxC,CAHwB,0BAKaS,sBAAsB,EALnC,gEAKjBE,KALiB,4EAKRa,KALQ,wBAKRA,KALQ,CAKDC,QALC,wBAKDA,QALC,CAMxB,GAAMI,CAAAA,eAAe,CAAG9B,UAAU,CAACY,KAAD,CAAQ,CAACG,SAAD,CAAR,CAAV,EAAkC,EAA1D,CAEAjB,SAAS,CAAC,UAAM,CACd,GAAI,CAACiB,SAAS,EAAIA,SAAS,GAAK,CAA5B,GAAkCa,OAAtC,CAA+C,CAC7C,GAAIG,CAAAA,KAAK,CAAG,KAAZ,CACAC,MAAM,CAACC,IAAP,CAAYH,eAAZ,EACGI,MADH,CAEI,SAAAlB,IAAI,QAAI,CAACc,eAAe,CAACd,IAAD,CAAf,CAAsBX,OAAtB,CAAD,EAAmCyB,eAAe,CAACd,IAAD,CAAf,CAAsBZ,oBAAtB,IAAgDyB,iBAAvF,EAFR,EAIGM,OAJH,CAIW,SAAAnB,IAAI,CAAI,CACfY,OAAO,CACJQ,qBADH,CACyBpB,IADzB,EAEGqB,IAFH,CAEQ,SAAAjB,OAAO,CAAI,CACf,GAAI,CAACW,KAAL,CAAY,CACV,GAAI,CAACX,OAAL,CAAc,CACZK,KAAK,CAACV,SAAD,CAAYC,IAAZ,CAAkBa,iBAAlB,CAAL,CACD,CAFD,IAEO,CACLH,QAAQ,CAACX,SAAD,CAAYC,IAAZ,CAAkBI,OAAlB,CAAR,CACD,CACF,CACF,CAVH,EAWGkB,KAXH,CAWS,UAAM,CACXb,KAAK,CAACV,SAAD,CAAYC,IAAZ,CAAkBa,iBAAlB,CAAL,CACD,CAbH,EAcD,CAnBH,EAqBA,MAAO,WAAM,CACXE,KAAK,CAAG,IAAR,CACD,CAFD,CAGD,CACF,CA5BQ,CA4BN,CAAChB,SAAD,CAAYa,OAAZ,CAAqBE,eAArB,CAAsCD,iBAAtC,CAAyDJ,KAAzD,CAAgEC,QAAhE,CA5BM,CAAT,CA8BA,MAAO,KAAP,CACD,CAED,MAAO,SAASa,CAAAA,mBAAT,EAA+B,sBACdxC,cAAc,EADA,CAC5BgB,SAD4B,kBAC5BA,SAD4B,4BAGhBL,sBAAsB,EAHN,iEAGzBc,GAHyB,2BAGzBA,GAHyB,CAKpC,MAAO3B,CAAAA,WAAW,CAChB,SAACoB,QAAD,CAA+B,IAApBuB,CAAAA,UAAoB,2DAAP,EAAO,CAC7B,GAAI,EAAEzB,SAAS,EAAIA,SAAS,GAAK,CAA7B,CAAJ,CAAqC,CACnC,KAAMG,CAAAA,KAAK,8BAAuBH,SAAvB,EAAX,CACD,CAED,GAAMC,CAAAA,IAAI,CAAGhB,UAAU,CAACiB,QAAD,CAAW,CAAC,MAAD,CAAX,CAAvB,CAEA,GAAI,CAACD,IAAL,CAAW,CACT,KAAME,CAAAA,KAAK,CAAC,4BAAD,CAAX,CACD,CACDM,GAAG,CAACT,SAAD,CAAYC,IAAZ,kBAAuBC,QAAvB,oBAAkCd,WAAlC,CAAgDqC,UAAhD,GAAH,CACD,CAZe,CAahB,CAACzB,SAAD,CAAYS,GAAZ,CAbgB,CAAlB,CAeD,CAED,MAAO,SAASiB,CAAAA,kBAAT,EAA8B,sBACb1C,cAAc,EADD,CAC3BgB,SAD2B,kBAC3BA,SAD2B,4BAGnBL,sBAAsB,EAHH,iEAG5BE,KAH4B,2BAKnC,MAAOZ,CAAAA,UAAU,CAACY,KAAD,CAAQ,CAACG,SAAD,CAAR,CAAV,EAAkC,EAAzC,CACD,CAED,MAAO,SAAS2B,CAAAA,kBAAT,CAA4BC,YAA5B,CAA0C,CAC/C,GAAMb,CAAAA,eAAe,CAAGW,kBAAkB,EAA1C,CAEA,MACET,CAAAA,MAAM,CAACC,IAAP,CAAYH,eAAZ,EAA6BI,MAA7B,CAAoC,SAAAlB,IAAI,CAAI,CAC1C,GAAIc,eAAe,CAACd,IAAD,CAAf,CAAsBX,OAAtB,CAAJ,CAAoC,CAClC,MAAO,MAAP,CACD,CAFD,IAEO,IAAI,CAACyB,eAAe,CAACd,IAAD,CAAf,CAAsBd,QAAtB,CAAL,CAAsC,CAC3C,MAAO,MAAP,CACD,CAFM,IAEA,IAAI4B,eAAe,CAACd,IAAD,CAAf,CAAsBd,QAAtB,EAAgCC,WAAhC,EAA6CyC,QAA7C,GAA0DD,YAA9D,CAA4E,CACjF,MAAO,MAAP,CACD,CAFM,IAEA,CACL,MAAO,KAAP,CACD,CACF,CAVD,EAUGE,MAVH,EAUa,CAXf,CAaD","sourcesContent":["import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\n\nimport { safeAccess } from '../utils'\nimport { useBlockNumber } from './Application'\n\nconst RESPONSE = 'response'\nconst CUSTOM_DATA = 'CUSTOM_DATA'\nconst BLOCK_NUMBER_CHECKED = 'BLOCK_NUMBER_CHECKED'\nconst RECEIPT = 'receipt'\n\nconst ADD = 'ADD'\nconst CHECK = 'CHECK'\nconst FINALIZE = 'FINALIZE'\n\nconst TransactionsContext = createContext()\n\nexport function useTransactionsContext() {\n  return useContext(TransactionsContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ADD: {\n      const { networkId, hash, response } = payload\n\n      if (safeAccess(state, [networkId, hash]) !== null) {\n        throw Error('Attempted to add existing transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            [RESPONSE]: response\n          }\n        }\n      }\n    }\n    case CHECK: {\n      const { networkId, hash, blockNumber } = payload\n\n      if (safeAccess(state, [networkId, hash]) === null) {\n        throw Error('Attempted to check non-existent transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            ...(safeAccess(state, [networkId, hash]) || {}),\n            [BLOCK_NUMBER_CHECKED]: blockNumber\n          }\n        }\n      }\n    }\n    case FINALIZE: {\n      const { networkId, hash, receipt } = payload\n\n      if (safeAccess(state, [networkId, hash]) === null) {\n        throw Error('Attempted to finalize non-existent transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            ...(safeAccess(state, [networkId, hash]) || {}),\n            [RECEIPT]: receipt\n          }\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in TransactionsContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const add = useCallback((networkId, hash, response) => {\n    dispatch({ type: ADD, payload: { networkId, hash, response } })\n  }, [])\n  const check = useCallback((networkId, hash, blockNumber) => {\n    dispatch({ type: CHECK, payload: { networkId, hash, blockNumber } })\n  }, [])\n  const finalize = useCallback((networkId, hash, receipt) => {\n    dispatch({ type: FINALIZE, payload: { networkId, hash, receipt } })\n  }, [])\n\n  return (\n    <TransactionsContext.Provider\n      value={useMemo(() => [state, { add, check, finalize }], [state, add, check, finalize])}\n    >\n      {children}\n    </TransactionsContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const { networkId, library } = useWeb3Context()\n\n  const globalBlockNumber = useBlockNumber()\n\n  const [state, { check, finalize }] = useTransactionsContext()\n  const allTransactions = safeAccess(state, [networkId]) || {}\n\n  useEffect(() => {\n    if ((networkId || networkId === 0) && library) {\n      let stale = false\n      Object.keys(allTransactions)\n        .filter(\n          hash => !allTransactions[hash][RECEIPT] && allTransactions[hash][BLOCK_NUMBER_CHECKED] !== globalBlockNumber\n        )\n        .forEach(hash => {\n          library\n            .getTransactionReceipt(hash)\n            .then(receipt => {\n              if (!stale) {\n                if (!receipt) {\n                  check(networkId, hash, globalBlockNumber)\n                } else {\n                  finalize(networkId, hash, receipt)\n                }\n              }\n            })\n            .catch(() => {\n              check(networkId, hash, globalBlockNumber)\n            })\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [networkId, library, allTransactions, globalBlockNumber, check, finalize])\n\n  return null\n}\n\nexport function useTransactionAdder() {\n  const { networkId } = useWeb3Context()\n\n  const [, { add }] = useTransactionsContext()\n\n  return useCallback(\n    (response, customData = {}) => {\n      if (!(networkId || networkId === 0)) {\n        throw Error(`Invalid networkId '${networkId}`)\n      }\n\n      const hash = safeAccess(response, ['hash'])\n\n      if (!hash) {\n        throw Error('No transaction hash found.')\n      }\n      add(networkId, hash, { ...response, [CUSTOM_DATA]: customData })\n    },\n    [networkId, add]\n  )\n}\n\nexport function useAllTransactions() {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useTransactionsContext()\n\n  return safeAccess(state, [networkId]) || {}\n}\n\nexport function usePendingApproval(tokenAddress) {\n  const allTransactions = useAllTransactions()\n\n  return (\n    Object.keys(allTransactions).filter(hash => {\n      if (allTransactions[hash][RECEIPT]) {\n        return false\n      } else if (!allTransactions[hash][RESPONSE]) {\n        return false\n      } else if (allTransactions[hash][RESPONSE][CUSTOM_DATA].approval !== tokenAddress) {\n        return false\n      } else {\n        return true\n      }\n    }).length >= 1\n  )\n}\n"]},"metadata":{},"sourceType":"module"}