{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar ethers_1 = require(\"ethers\");\n\nvar context_1 = __importDefault(require(\"./context\"));\n\nvar manager_1 = __importDefault(require(\"./manager\"));\n\nfunction useWeb3Context() {\n  return react_1.useContext(context_1.default);\n}\n\nexports.useWeb3Context = useWeb3Context;\n\nfunction Web3Provider(_a) {\n  var connectors = _a.connectors,\n      libraryName = _a.libraryName,\n      Web3 = _a.web3Api,\n      children = _a.children;\n\n  var _b = manager_1.default(connectors),\n      active = _b.web3Initialized,\n      web3State = _b.web3State,\n      connector = _b.connector,\n      setConnector = _b.setConnector,\n      setFirstValidConnector = _b.setFirstValidConnector,\n      unsetConnector = _b.unsetConnector,\n      setError = _b.setError;\n\n  var connectorName = web3State.connectorName,\n      provider = web3State.provider,\n      networkId = web3State.networkId,\n      account = web3State.account,\n      error = web3State.error;\n\n  var providerToInject = provider && function () {\n    if (ethers_1.ethers.providers.Provider.isProvider(provider)) {\n      return provider;\n    } else {\n      switch (libraryName) {\n        case 'ethers.js':\n          return new ethers_1.ethers.providers.Web3Provider(provider);\n\n        case 'web3.js':\n          return new Web3(provider);\n\n        case undefined:\n        case null:\n          return provider;\n\n        default:\n          return libraryName(provider);\n      }\n    }\n  }();\n\n  var context = {\n    active: active,\n    connectorName: connectorName,\n    connector: connector,\n    library: providerToInject,\n    networkId: networkId,\n    account: account,\n    error: error,\n    setConnector: setConnector,\n    setFirstValidConnector: setFirstValidConnector,\n    unsetConnector: unsetConnector,\n    setError: setError\n  };\n  return react_1.default.createElement(context_1.default.Provider, {\n    value: context\n  }, children);\n}\n\nexports.default = Web3Provider;\n\nfunction Web3Consumer(_a) {\n  var _b = _a.recreateOnNetworkChange,\n      recreateOnNetworkChange = _b === void 0 ? true : _b,\n      _c = _a.recreateOnAccountChange,\n      recreateOnAccountChange = _c === void 0 ? true : _c,\n      children = _a.children;\n  return react_1.default.createElement(context_1.default.Consumer, null, function (context) {\n    return react_1.default.createElement(react_1.Fragment, {\n      key: recreateOnNetworkChange && context.networkId || undefined\n    }, react_1.default.createElement(react_1.Fragment, {\n      key: recreateOnAccountChange && context.account || undefined\n    }, children(context)));\n  });\n}\n\nexports.Web3Consumer = Web3Consumer;\n\nfunction withWeb3(ComponentToWrap, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.recreateOnNetworkChange,\n      recreateOnNetworkChange = _c === void 0 ? true : _c,\n      _d = _b.recreateOnAccountChange,\n      recreateOnAccountChange = _d === void 0 ? true : _d;\n\n  var WithWeb3 =\n  /** @class */\n  function (_super) {\n    __extends(WithWeb3, _super);\n\n    function WithWeb3() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    WithWeb3.prototype.render = function () {\n      var _this = this;\n\n      return react_1.default.createElement(Web3Consumer, {\n        recreateOnNetworkChange: recreateOnNetworkChange,\n        recreateOnAccountChange: recreateOnAccountChange\n      }, function (context) {\n        return react_1.default.createElement(ComponentToWrap, __assign({}, _this.props, {\n          web3: context\n        }));\n      });\n    };\n\n    return WithWeb3;\n  }(react_1.Component);\n\n  ;\n  WithWeb3.displayName = \"withWeb3(\" + (ComponentToWrap.displayName || ComponentToWrap.name || 'Component') + \")\";\n  return WithWeb3;\n}\n\nexports.withWeb3 = withWeb3;","map":{"version":3,"sources":["../src/provider.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar ethers_1 = require(\"ethers\");\nvar context_1 = __importDefault(require(\"./context\"));\nvar manager_1 = __importDefault(require(\"./manager\"));\nfunction useWeb3Context() {\n    return react_1.useContext(context_1.default);\n}\nexports.useWeb3Context = useWeb3Context;\nfunction Web3Provider(_a) {\n    var connectors = _a.connectors, libraryName = _a.libraryName, Web3 = _a.web3Api, children = _a.children;\n    var _b = manager_1.default(connectors), active = _b.web3Initialized, web3State = _b.web3State, connector = _b.connector, setConnector = _b.setConnector, setFirstValidConnector = _b.setFirstValidConnector, unsetConnector = _b.unsetConnector, setError = _b.setError;\n    var connectorName = web3State.connectorName, provider = web3State.provider, networkId = web3State.networkId, account = web3State.account, error = web3State.error;\n    var providerToInject = provider &&\n        (function () {\n            if (ethers_1.ethers.providers.Provider.isProvider(provider)) {\n                return provider;\n            }\n            else {\n                switch (libraryName) {\n                    case 'ethers.js':\n                        return new ethers_1.ethers.providers.Web3Provider(provider);\n                    case 'web3.js':\n                        return new Web3(provider);\n                    case undefined:\n                    case null:\n                        return provider;\n                    default:\n                        return libraryName(provider);\n                }\n            }\n        })();\n    var context = {\n        active: active,\n        connectorName: connectorName,\n        connector: connector,\n        library: providerToInject,\n        networkId: networkId,\n        account: account,\n        error: error,\n        setConnector: setConnector,\n        setFirstValidConnector: setFirstValidConnector,\n        unsetConnector: unsetConnector,\n        setError: setError\n    };\n    return react_1.default.createElement(context_1.default.Provider, { value: context }, children);\n}\nexports.default = Web3Provider;\nfunction Web3Consumer(_a) {\n    var _b = _a.recreateOnNetworkChange, recreateOnNetworkChange = _b === void 0 ? true : _b, _c = _a.recreateOnAccountChange, recreateOnAccountChange = _c === void 0 ? true : _c, children = _a.children;\n    return (react_1.default.createElement(context_1.default.Consumer, null, function (context) { return (react_1.default.createElement(react_1.Fragment, { key: (recreateOnNetworkChange && context.networkId) || undefined },\n        react_1.default.createElement(react_1.Fragment, { key: (recreateOnAccountChange && context.account) || undefined }, children(context)))); }));\n}\nexports.Web3Consumer = Web3Consumer;\nfunction withWeb3(ComponentToWrap, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.recreateOnNetworkChange, recreateOnNetworkChange = _c === void 0 ? true : _c, _d = _b.recreateOnAccountChange, recreateOnAccountChange = _d === void 0 ? true : _d;\n    var WithWeb3 = /** @class */ (function (_super) {\n        __extends(WithWeb3, _super);\n        function WithWeb3() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        WithWeb3.prototype.render = function () {\n            var _this = this;\n            return (react_1.default.createElement(Web3Consumer, { recreateOnNetworkChange: recreateOnNetworkChange, recreateOnAccountChange: recreateOnAccountChange }, function (context) { return react_1.default.createElement(ComponentToWrap, __assign({}, _this.props, { web3: context })); }));\n        };\n        return WithWeb3;\n    }(react_1.Component));\n    ;\n    WithWeb3.displayName = \"withWeb3(\" + (ComponentToWrap.displayName || ComponentToWrap.name || 'Component') + \")\";\n    return WithWeb3;\n}\nexports.withWeb3 = withWeb3;\n//# sourceMappingURL=provider.js.map"]},"metadata":{},"sourceType":"script"}