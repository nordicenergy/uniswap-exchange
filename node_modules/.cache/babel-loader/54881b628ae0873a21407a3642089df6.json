{"ast":null,"code":"import _slicedToArray from\"/workspace/uniswap-exchange/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/workspace/uniswap-exchange/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  font-size: 1rem;\\n  outline: none;\\n  border: none;\\n  flex: 1 1 auto;\\n  width: 0;\\n  color: \",\";\\n  transition: color 200ms ease-in-out;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\\n  ::placeholder {\\n    color: \",\";\\n  }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  align-items: center;\\n  padding: 0.25rem 0.85rem 0.75rem;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  flex: 1 1 auto;\\n  width: 0;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  align-items: center;\\n  color: \",\";\\n  font-size: 0.75rem;\\n  line-height: 1rem;\\n  padding: 0.75rem 1rem;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 1.25rem;\\n  box-shadow: 0 0 0 0.5px \",\";\\n  background-color: \",\";\\n  transition: box-shadow 200ms ease-in-out;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  box-shadow: 0 4px 8px 0 \",\";\\n  position: relative;\\n  border-radius: 1.25rem;\\n  background-color: \",\";\\n  z-index: 1;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import{useTranslation}from'react-i18next';import{useWeb3Context}from'web3-react';import{lighten}from'polished';import{isAddress}from'../../utils';import{useDebounce}from'../../hooks';var InputPanel=styled.div(_templateObject(),function(_ref){var theme=_ref.theme;return theme.flexColumnNoWrap;},function(_ref2){var theme=_ref2.theme;return lighten(0.9,theme.royalBlue);},function(_ref3){var theme=_ref3.theme;return theme.white;});var ContainerRow=styled.div(_templateObject2(),function(_ref4){var error=_ref4.error,theme=_ref4.theme;return error?theme.salmonRed:theme.mercuryGray;},function(_ref5){var theme=_ref5.theme;return theme.white;});var InputContainer=styled.div(_templateObject3());var LabelRow=styled.div(_templateObject4(),function(_ref6){var theme=_ref6.theme;return theme.flexRowNoWrap;},function(_ref7){var theme=_ref7.theme;return theme.doveGray;});var LabelContainer=styled.div(_templateObject5());var InputRow=styled.div(_templateObject6(),function(_ref8){var theme=_ref8.theme;return theme.flexRowNoWrap;});var Input=styled.input(_templateObject7(),function(_ref9){var error=_ref9.error,theme=_ref9.theme;return error?theme.salmonRed:theme.royalBlue;},function(_ref10){var theme=_ref10.theme;return theme.chaliceGray;});export default function AddressInputPanel(_ref11){var title=_ref11.title,_ref11$initialInput=_ref11.initialInput,initialInput=_ref11$initialInput===void 0?'':_ref11$initialInput,_ref11$onChange=_ref11.onChange,onChange=_ref11$onChange===void 0?function(){}:_ref11$onChange,_ref11$onError=_ref11.onError,onError=_ref11$onError===void 0?function(){}:_ref11$onError;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useWeb3Context=useWeb3Context(),library=_useWeb3Context.library;var _useState=useState(initialInput),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var debouncedInput=useDebounce(input,150);var _useState3=useState({address:undefined,name:undefined}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];// keep data and errors in sync\nuseEffect(function(){onChange({address:data.address,name:data.name});},[onChange,data.address,data.name]);useEffect(function(){onError(error);},[onError,error]);// run parser on debounced input\nuseEffect(function(){var stale=false;if(isAddress(debouncedInput)){library.lookupAddress(debouncedInput).then(function(name){if(!stale){// if an ENS name exists, set it as the destination\nif(name){setInput(name);}else{setData({address:debouncedInput,name:''});setError(null);}}}).catch(function(){setData({address:debouncedInput,name:''});setError(null);});}else{if(debouncedInput!==''){library.resolveName(debouncedInput).then(function(address){if(!stale){// if the debounced input name resolves to an address\nif(address){setData({address:address,name:debouncedInput});setError(null);}else{setError(true);}}}).catch(function(){setError(true);});}}return function(){stale=true;};},[debouncedInput,library,onChange,onError]);function onInput(event){if(data.address!==undefined||data.name!==undefined){setData({address:undefined,name:undefined});}if(error!==undefined){setError();}var input=event.target.value;var checksummedInput=isAddress(input);setInput(checksummedInput||input);}return React.createElement(InputPanel,null,React.createElement(ContainerRow,{error:input!==''&&error},React.createElement(InputContainer,null,React.createElement(LabelRow,null,React.createElement(LabelContainer,null,React.createElement(\"span\",null,title||t('recipientAddress')))),React.createElement(InputRow,null,React.createElement(Input,{type:\"text\",autoComplete:\"off\",autoCorrect:\"off\",autoCapitalize:\"off\",spellCheck:\"false\",placeholder:\"0x1234...\",error:input!==''&&error,onChange:onInput,value:input})))));}","map":{"version":3,"sources":["/workspace/uniswap-exchange/src/components/AddressInputPanel/index.js"],"names":["React","useState","useEffect","styled","useTranslation","useWeb3Context","lighten","isAddress","useDebounce","InputPanel","div","theme","flexColumnNoWrap","royalBlue","white","ContainerRow","error","salmonRed","mercuryGray","InputContainer","LabelRow","flexRowNoWrap","doveGray","LabelContainer","InputRow","Input","input","chaliceGray","AddressInputPanel","title","initialInput","onChange","onError","t","library","setInput","debouncedInput","address","undefined","name","data","setData","setError","stale","lookupAddress","then","catch","resolveName","onInput","event","target","value","checksummedInput"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'react-i18next'\nimport { useWeb3Context } from 'web3-react'\nimport { lighten } from 'polished'\n\nimport { isAddress } from '../../utils'\nimport { useDebounce } from '../../hooks'\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  box-shadow: 0 4px 8px 0 ${({ theme }) => lighten(0.9, theme.royalBlue)};\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.white};\n  z-index: 1;\n`\n\nconst ContainerRow = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1.25rem;\n  box-shadow: 0 0 0 0.5px ${({ error, theme }) => (error ? theme.salmonRed : theme.mercuryGray)};\n  background-color: ${({ theme }) => theme.white};\n  transition: box-shadow 200ms ease-in-out;\n`\n\nconst InputContainer = styled.div`\n  flex: 1;\n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n`\n\nconst LabelContainer = styled.div`\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  padding: 0.25rem 0.85rem 0.75rem;\n`\n\nconst Input = styled.input`\n  font-size: 1rem;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  width: 0;\n  color: ${({ error, theme }) => (error ? theme.salmonRed : theme.royalBlue)};\n  transition: color 200ms ease-in-out;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ::placeholder {\n    color: ${({ theme }) => theme.chaliceGray};\n  }\n`\n\nexport default function AddressInputPanel({ title, initialInput = '', onChange = () => {}, onError = () => {} }) {\n  const { t } = useTranslation()\n\n  const { library } = useWeb3Context()\n\n  const [input, setInput] = useState(initialInput)\n  const debouncedInput = useDebounce(input, 150)\n\n  const [data, setData] = useState({ address: undefined, name: undefined })\n  const [error, setError] = useState(false)\n\n  // keep data and errors in sync\n  useEffect(() => {\n    onChange({ address: data.address, name: data.name })\n  }, [onChange, data.address, data.name])\n  useEffect(() => {\n    onError(error)\n  }, [onError, error])\n\n  // run parser on debounced input\n  useEffect(() => {\n    let stale = false\n\n    if (isAddress(debouncedInput)) {\n      library\n        .lookupAddress(debouncedInput)\n        .then(name => {\n          if (!stale) {\n            // if an ENS name exists, set it as the destination\n            if (name) {\n              setInput(name)\n            } else {\n              setData({ address: debouncedInput, name: '' })\n              setError(null)\n            }\n          }\n        })\n        .catch(() => {\n          setData({ address: debouncedInput, name: '' })\n          setError(null)\n        })\n    } else {\n      if (debouncedInput !== '') {\n        library\n          .resolveName(debouncedInput)\n          .then(address => {\n            if (!stale) {\n              // if the debounced input name resolves to an address\n              if (address) {\n                setData({ address: address, name: debouncedInput })\n                setError(null)\n              } else {\n                setError(true)\n              }\n            }\n          })\n          .catch(() => {\n            setError(true)\n          })\n      }\n    }\n\n    return () => {\n      stale = true\n    }\n  }, [debouncedInput, library, onChange, onError])\n\n  function onInput(event) {\n    if (data.address !== undefined || data.name !== undefined) {\n      setData({ address: undefined, name: undefined })\n    }\n    if (error !== undefined) {\n      setError()\n    }\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setInput(checksummedInput || input)\n  }\n\n  return (\n    <InputPanel>\n      <ContainerRow error={input !== '' && error}>\n        <InputContainer>\n          <LabelRow>\n            <LabelContainer>\n              <span>{title || t('recipientAddress')}</span>\n            </LabelContainer>\n          </LabelRow>\n          <InputRow>\n            <Input\n              type=\"text\"\n              autoComplete=\"off\"\n              autoCorrect=\"off\"\n              autoCapitalize=\"off\"\n              spellCheck=\"false\"\n              placeholder=\"0x1234...\"\n              error={input !== '' && error}\n              onChange={onInput}\n              value={input}\n            />\n          </InputRow>\n        </InputContainer>\n      </ContainerRow>\n    </InputPanel>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}