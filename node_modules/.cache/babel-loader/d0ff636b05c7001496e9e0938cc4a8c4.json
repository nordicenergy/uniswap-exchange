{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst WalletLinkNotification_1 = require(\"./WalletLinkNotification\");\n\nconst WalletLinkProvider_1 = require(\"./WalletLinkProvider\");\n\nconst WalletLinkRelay_1 = require(\"./WalletLinkRelay\");\n\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION || require(\"../package.json\").version || \"unknown\";\n\nclass WalletLink {\n  constructor(options) {\n    this._appName = \"\";\n    this._appLogoUrl = null;\n    this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n      walletLinkUrl: options.walletLinkUrl || WALLETLINK_URL\n    });\n    this.setAppInfo(options.appName, options.appLogoUrl);\n    WalletLinkNotification_1.WalletLinkNotification.injectContainer();\n\n    this._relay.injectIframe();\n  }\n\n  makeWeb3Provider(jsonRpcUrl, chainId = 1) {\n    return new WalletLinkProvider_1.WalletLinkProvider({\n      relay: this._relay,\n      jsonRpcUrl,\n      chainId\n    });\n  }\n\n  setAppInfo(appName, appLogoUrl) {\n    this._appName = appName || \"DApp\";\n    this._appLogoUrl = appLogoUrl || getFavicon();\n\n    this._relay.setAppInfo(this._appName, this._appLogoUrl);\n  }\n\n}\n\nWalletLink.VERSION = WALLETLINK_VERSION;\nexports.WalletLink = WalletLink;\n\nfunction getFavicon() {\n  const el = document.querySelector('link[sizes=\"192x192\"]') || document.querySelector('link[sizes=\"180x180\"]') || document.querySelector('link[rel=\"icon\"]') || document.querySelector('link[rel=\"shortcut icon\"]');\n  const {\n    protocol,\n    host\n  } = document.location;\n  const href = el ? el.getAttribute(\"href\") : null;\n\n  if (!href || href.startsWith(\"javascript:\")) {\n    return null;\n  }\n\n  if (href.startsWith(\"http://\") || href.startsWith(\"https://\") || href.startsWith(\"data:\")) {\n    return href;\n  }\n\n  if (href.startsWith(\"//\")) {\n    return protocol + href;\n  }\n\n  return `${protocol}//${host}${href}`;\n}","map":{"version":3,"sources":["/workspace/uniswap-exchange/node_modules/walletlink/dist/WalletLink.js"],"names":["Object","defineProperty","exports","value","WalletLinkNotification_1","require","WalletLinkProvider_1","WalletLinkRelay_1","WALLETLINK_URL","process","env","WALLETLINK_VERSION","version","WalletLink","constructor","options","_appName","_appLogoUrl","_relay","WalletLinkRelay","walletLinkUrl","setAppInfo","appName","appLogoUrl","WalletLinkNotification","injectContainer","injectIframe","makeWeb3Provider","jsonRpcUrl","chainId","WalletLinkProvider","relay","getFavicon","VERSION","el","document","querySelector","protocol","host","location","href","getAttribute","startsWith"],"mappings":"AAAA,a,CACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,wBAAwB,GAAGC,OAAO,CAAC,0BAAD,CAAxC;;AACA,MAAMC,oBAAoB,GAAGD,OAAO,CAAC,sBAAD,CAApC;;AACA,MAAME,iBAAiB,GAAGF,OAAO,CAAC,mBAAD,CAAjC;;AACA,MAAMG,cAAc,GAAGC,OAAO,CAACC,GAAR,CAAYF,cAAZ,IAA8B,4BAArD;AACA,MAAMG,kBAAkB,GAAGF,OAAO,CAACC,GAAR,CAAYC,kBAAZ,IACvBN,OAAO,CAAC,iBAAD,CAAP,CAA2BO,OADJ,IAEvB,SAFJ;;AAGA,MAAMC,UAAN,CAAiB;AACbC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACjB,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,MAAL,GAAc,IAAIX,iBAAiB,CAACY,eAAtB,CAAsC;AAChDC,MAAAA,aAAa,EAAEL,OAAO,CAACK,aAAR,IAAyBZ;AADQ,KAAtC,CAAd;AAGA,SAAKa,UAAL,CAAgBN,OAAO,CAACO,OAAxB,EAAiCP,OAAO,CAACQ,UAAzC;AACAnB,IAAAA,wBAAwB,CAACoB,sBAAzB,CAAgDC,eAAhD;;AACA,SAAKP,MAAL,CAAYQ,YAAZ;AACH;;AACDC,EAAAA,gBAAgB,CAACC,UAAD,EAAaC,OAAO,GAAG,CAAvB,EAA0B;AACtC,WAAO,IAAIvB,oBAAoB,CAACwB,kBAAzB,CAA4C;AAC/CC,MAAAA,KAAK,EAAE,KAAKb,MADmC;AAE/CU,MAAAA,UAF+C;AAG/CC,MAAAA;AAH+C,KAA5C,CAAP;AAKH;;AACDR,EAAAA,UAAU,CAACC,OAAD,EAAUC,UAAV,EAAsB;AAC5B,SAAKP,QAAL,GAAgBM,OAAO,IAAI,MAA3B;AACA,SAAKL,WAAL,GAAmBM,UAAU,IAAIS,UAAU,EAA3C;;AACA,SAAKd,MAAL,CAAYG,UAAZ,CAAuB,KAAKL,QAA5B,EAAsC,KAAKC,WAA3C;AACH;;AAtBY;;AAwBjBJ,UAAU,CAACoB,OAAX,GAAqBtB,kBAArB;AACAT,OAAO,CAACW,UAAR,GAAqBA,UAArB;;AACA,SAASmB,UAAT,GAAsB;AAClB,QAAME,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,KACPD,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CADO,IAEPD,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAFO,IAGPD,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,CAHJ;AAIA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAqBH,QAAQ,CAACI,QAApC;AACA,QAAMC,IAAI,GAAGN,EAAE,GAAGA,EAAE,CAACO,YAAH,CAAgB,MAAhB,CAAH,GAA6B,IAA5C;;AACA,MAAI,CAACD,IAAD,IAASA,IAAI,CAACE,UAAL,CAAgB,aAAhB,CAAb,EAA6C;AACzC,WAAO,IAAP;AACH;;AACD,MAAIF,IAAI,CAACE,UAAL,CAAgB,SAAhB,KACAF,IAAI,CAACE,UAAL,CAAgB,UAAhB,CADA,IAEAF,IAAI,CAACE,UAAL,CAAgB,OAAhB,CAFJ,EAE8B;AAC1B,WAAOF,IAAP;AACH;;AACD,MAAIA,IAAI,CAACE,UAAL,CAAgB,IAAhB,CAAJ,EAA2B;AACvB,WAAOL,QAAQ,GAAGG,IAAlB;AACH;;AACD,SAAQ,GAAEH,QAAS,KAAIC,IAAK,GAAEE,IAAK,EAAnC;AACH","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2019 Coinbase, Inc. <https://coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst WalletLinkNotification_1 = require(\"./WalletLinkNotification\");\nconst WalletLinkProvider_1 = require(\"./WalletLinkProvider\");\nconst WalletLinkRelay_1 = require(\"./WalletLinkRelay\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    constructor(options) {\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl: options.walletLinkUrl || WALLETLINK_URL\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        WalletLinkNotification_1.WalletLinkNotification.injectContainer();\n        this._relay.injectIframe();\n    }\n    makeWeb3Provider(jsonRpcUrl, chainId = 1) {\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relay: this._relay,\n            jsonRpcUrl,\n            chainId\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || getFavicon();\n        this._relay.setAppInfo(this._appName, this._appLogoUrl);\n    }\n}\nWalletLink.VERSION = WALLETLINK_VERSION;\nexports.WalletLink = WalletLink;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\n"]},"metadata":{},"sourceType":"script"}