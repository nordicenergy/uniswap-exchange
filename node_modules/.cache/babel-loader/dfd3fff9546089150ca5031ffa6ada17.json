{"ast":null,"code":"import _slicedToArray from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject32(){var data=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  padding: 1rem 1.25rem 1rem 1.25rem;\\n  border-radius: 0 0 12px 12px;\\n\"]);_templateObject32=function _templateObject32(){return data;};return data;}function _templateObject31(){var data=_taggedTemplateLiteral([\"\\n  padding: 0.125rem 0.3rem 0.1rem 0.3rem;\\n  background-color: \",\";\\n  border-radius: 12px;\\n  font-variant: tabular-nums;\\n\"]);_templateObject31=function _templateObject31(){return data;};return data;}function _templateObject30(){var data=_taggedTemplateLiteral([\"\\n  padding: 1.25rem 1.25rem 1rem 1.25rem;\\n\"]);_templateObject30=function _templateObject30(){return data;};return data;}function _templateObject29(){var data=_taggedTemplateLiteral([\"\\n  opacity: 0.7;\\n\"]);_templateObject29=function _templateObject29(){return data;};return data;}function _templateObject28(){var data=_taggedTemplateLiteral([\"\\n        color: \",\";\\n      \"]);_templateObject28=function _templateObject28(){return data;};return data;}function _templateObject27(){var data=_taggedTemplateLiteral([\"\\n        color: \",\";\\n      \"]);_templateObject27=function _templateObject27(){return data;};return data;}function _templateObject26(){var data=_taggedTemplateLiteral([\"\\n  color: inherit;\\n  font-size: 0, 8rem;\\n  flex-grow: 0;\\n\\n  \",\";\\n\"]);_templateObject26=function _templateObject26(){return data;};return data;}function _templateObject25(){var data=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  padding: 1rem 1.25rem 1rem 1.25rem;\\n  border-radius: 12px 12px 0 0;\\n\"]);_templateObject25=function _templateObject25(){return data;};return data;}function _templateObject24(){var data=_taggedTemplateLiteral([\"\\n  padding-top: 0.5rem;\\n\"]);_templateObject24=function _templateObject24(){return data;};return data;}function _templateObject23(){var data=_taggedTemplateLiteral([\"\\n  font-weight: 500;\\n\"]);_templateObject23=function _templateObject23(){return data;};return data;}function _templateObject22(){var data=_taggedTemplateLiteral([\"\\n      border: 1px solid \",\";\\n    \"]);_templateObject22=function _templateObject22(){return data;};return data;}function _templateObject21(){var data=_taggedTemplateLiteral([\"\\n      border: 1px solid \",\";\\n      :hover {\\n        border: 1px solid \",\";\\n      }\\n    \"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral([\"\\n  height: 2rem;\\n  position: relative;\\n  width: 120px;\\n  margin-top: 6px;\\n  padding: 0 0.75rem;\\n\\n  \",\"\\n\\n  \",\"\\n\\n  input {\\n    width: 100%;\\n    height: 100%;\\n    border: 0px;\\n    border-radius: 2rem;\\n  }\\n\"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral([\"\\n      color: \",\";\\n    \"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral([\"\\n      padding-top: 12px;\\n    \"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  color: \",\";\\n  \",\"\\n\"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral([\"\\n      color: \",\";\\n    \"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral([\"\\n      text-align: right;\\n      color: \",\";\\n    \"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral([\"\\n      color: initial;\\n      cursor: initial;\\n      text-align: right;\\n    \"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  flex-grow: 1;\\n  font-size: 12px;\\n  min-width: 20px;\\n\\n  outline: none;\\n  box-sizing: border-box;\\n\\n  &::-webkit-outer-spin-button,\\n  &::-webkit-inner-spin-button {\\n    -webkit-appearance: none;\\n  }\\n\\n  cursor: inherit;\\n\\n  color: \",\";\\n  text-align: left;\\n  \",\"\\n\\n  \",\"\\n\\n  \",\"\\n\"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral([\"\\n  width: 120px;\\n\"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n      color: \",\";\\n      border: none;\\n\\n      :hover {\\n        border: none;\\n        box-shadow: none;\\n        background-color: \",\";\\n      }\\n\\n      :focus {\\n        border: none;\\n        box-shadow: none;\\n        background-color: \",\";\\n      }\\n\\n      :active {\\n        background-color: \",\";\\n      }\\n\\n      :hover:focus {\\n        background-color: \",\";\\n      }\\n      :hover:focus:active {\\n        background-color: \",\";\\n      }\\n    \"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral([\"\\n  margin-right: 8px;\\n  margin-top: 6px;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\\n  \",\"\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  align-items: center;\\n  min-width: 55px;\\n  height: 2rem;\\n  border-radius: 36px;\\n  font-size: 12px;\\n  border: 1px solid \",\";\\n  outline: none;\\n  background: \",\";\\n\\n  :hover {\\n    cursor: inherit;\\n    border: 1px solid \",\";\\n  }\\n  :focus {\\n    border: 1px solid \",\";\\n  }\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n    left: -20px;\\n  \"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 228px;\\n  left: -78px;\\n  top: -94px;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 0.6rem 1rem;\\n  line-height: 150%;\\n  background: \",\";\\n  border: 1px solid \",\";\\n\\n  border-radius: 8px;\\n\\n  animation: \",\" 0.15s linear;\\n\\n  color: \",\";\\n  font-style: italic;\\n\\n  \",\"\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  from {\\n    opacity : 0;\\n  }\\n\\n  to {\\n    opacity : 1;\\n  }\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  height: 18px;\\n  width: 18px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 0;\\n  padding: 0;\\n  margin-left: 0.4rem;\\n  padding: 0.2rem;\\n  border: none;\\n  background: none;\\n  outline: none;\\n  cursor: default;\\n  border-radius: 36px;\\n\\n  :hover,\\n  :focus {\\n    opacity: 0.7;\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  flex-wrap: \",\";\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: center;\\n  width: 100%;\\n  padding: 0;\\n  padding-top: \",\";\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  height: 100%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect,useRef,useCallback}from'react';import{useTranslation}from'react-i18next';import styled,{css,keyframes}from'styled-components';import{darken,lighten}from'polished';import{isAddress,amountFormatter}from'../../utils';import{useDebounce}from'../../hooks';import question from\"../../assets/images/question.svg\";import NewContextualInfo from'../../components/ContextualInfoNew';var WARNING_TYPE=Object.freeze({none:'none',emptyInput:'emptyInput',invalidEntryBound:'invalidEntryBound',riskyEntryHigh:'riskyEntryHigh',riskyEntryLow:'riskyEntryLow'});var Flex=styled.div(_templateObject());var FlexBetween=styled.div(_templateObject2());var WrappedSlippageRow=function WrappedSlippageRow(_ref){var wrap=_ref.wrap,rest=_objectWithoutProperties(_ref,[\"wrap\"]);return React.createElement(Flex,rest);};var SlippageRow=styled(WrappedSlippageRow)(_templateObject3(),function(_ref2){var wrap=_ref2.wrap;return wrap&&'wrap';},function(_ref3){var wrap=_ref3.wrap;return wrap&&'0.25rem';});var QuestionWrapper=styled.button(_templateObject4());var HelpCircleStyled=styled.img(_templateObject5());var fadeIn=keyframes(_templateObject6());var Popup=styled(Flex)(_templateObject7(),function(_ref4){var theme=_ref4.theme;return theme.inputBackground;},function(_ref5){var theme=_ref5.theme;return theme.mercuryGray;},fadeIn,function(_ref6){var theme=_ref6.theme;return theme.textColor;},function(_ref7){var theme=_ref7.theme;return theme.mediaWidth.upToSmall(_templateObject8());});var FancyButton=styled.button(_templateObject9(),function(_ref8){var theme=_ref8.theme;return theme.textColor;},function(_ref9){var theme=_ref9.theme;return theme.mercuryGray;},function(_ref10){var theme=_ref10.theme;return theme.inputBackground;},function(_ref11){var theme=_ref11.theme;return theme.chaliceGray;},function(_ref12){var theme=_ref12.theme;return theme.royalBlue;});var Option=styled(FancyButton)(_templateObject10(),function(_ref13){var active=_ref13.active,theme=_ref13.theme;return active&&css(_templateObject11(),function(_ref14){var theme=_ref14.theme;return theme.royalBlue;},function(_ref15){var theme=_ref15.theme;return theme.white;},function(_ref16){var theme=_ref16.theme;return darken(0.05,theme.royalBlue);},function(_ref17){var theme=_ref17.theme;return lighten(0.05,theme.royalBlue);},function(_ref18){var theme=_ref18.theme;return darken(0.05,theme.royalBlue);},function(_ref19){var theme=_ref19.theme;return theme.royalBlue;},function(_ref20){var theme=_ref20.theme;return darken(0.05,theme.royalBlue);});});var OptionLarge=styled(Option)(_templateObject12());var Input=styled.input(_templateObject13(),function(_ref21){var theme=_ref21.theme;return theme.inputBackground;},function(_ref22){var theme=_ref22.theme;return theme.doveGray;},function(_ref23){var active=_ref23.active;return active&&css(_templateObject14());},function(_ref24){var placeholder=_ref24.placeholder;return placeholder!=='Custom'&&css(_templateObject15(),function(_ref25){var theme=_ref25.theme;return theme.textColor;});},function(_ref26){var color=_ref26.color;return color==='red'&&css(_templateObject16(),function(_ref27){var theme=_ref27.theme;return theme.salmonRed;});});var BottomError=styled.div(_templateObject17(),function(_ref28){var show=_ref28.show;return show&&css(_templateObject18());},function(_ref29){var theme=_ref29.theme;return theme.doveGray;},function(_ref30){var color=_ref30.color;return color==='red'&&css(_templateObject19(),function(_ref31){var theme=_ref31.theme;return theme.salmonRed;});});var OptionCustom=styled(FancyButton)(_templateObject20(),function(_ref32){var active=_ref32.active;return active&&css(_templateObject21(),function(_ref33){var theme=_ref33.theme;return theme.royalBlue;},function(_ref34){var theme=_ref34.theme;return darken(0.1,theme.royalBlue);});},function(_ref35){var color=_ref35.color;return color==='red'&&css(_templateObject22(),function(_ref36){var theme=_ref36.theme;return theme.salmonRed;});});var Bold=styled.span(_templateObject23());var LastSummaryText=styled.div(_templateObject24());var SlippageSelector=styled.div(_templateObject25(),function(_ref37){var theme=_ref37.theme;return darken(0.04,theme.concreteGray);});var Percent=styled.div(_templateObject26(),function(_ref38){var color=_ref38.color,theme=_ref38.theme;return color==='faded'&&css(_templateObject27(),theme.doveGray)||color==='red'&&css(_templateObject28(),theme.salmonRed);});var Faded=styled.span(_templateObject29());var TransactionInfo=styled.div(_templateObject30());var ValueWrapper=styled.span(_templateObject31(),function(_ref39){var theme=_ref39.theme;return darken(0.04,theme.concreteGray);});var DeadlineSelector=styled.div(_templateObject32(),function(_ref40){var theme=_ref40.theme;return darken(0.04,theme.concreteGray);});var DeadlineRow=SlippageRow;var DeadlineInput=OptionCustom;export default function TransactionDetails(props){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(3),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(WARNING_TYPE.none),_useState4=_slicedToArray(_useState3,2),warningType=_useState4[0],setWarningType=_useState4[1];var inputRef=useRef();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPopup=_useState6[0],setPopup=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),userInput=_useState8[0],setUserInput=_useState8[1];var debouncedInput=useDebounce(userInput,150);useEffect(function(){if(activeIndex===4){checkBounds(debouncedInput);}});var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),deadlineInput=_useState10[0],setDeadlineInput=_useState10[1];function renderSummary(){var contextualInfo='';var isError=false;if(props.inputError||props.independentError){contextualInfo=props.inputError||props.independentError;isError=true;}else if(!props.inputCurrency||!props.outputCurrency){contextualInfo=t('selectTokenCont');}else if(!props.independentValue){contextualInfo=t('enterValueCont');}else if(props.sending&&!props.recipientAddress){contextualInfo=t('noRecipient');}else if(props.sending&&!isAddress(props.recipientAddress)){contextualInfo=t('invalidRecipient');}else if(!props.account){contextualInfo=t('noWallet');isError=true;}var slippageWarningText=props.highSlippageWarning?t('highSlippageWarning'):props.slippageWarning?t('slippageWarning'):'';return React.createElement(NewContextualInfo,{openDetailsText:t('transactionDetails'),closeDetailsText:t('hideDetails'),contextualInfo:contextualInfo?contextualInfo:slippageWarningText,allowExpand:!!(props.inputCurrency&&props.outputCurrency&&props.inputValueParsed&&props.outputValueParsed&&(props.sending?props.recipientAddress:true)),isError:isError,slippageWarning:props.slippageWarning&&!contextualInfo,highSlippageWarning:props.highSlippageWarning&&!contextualInfo,renderTransactionDetails:renderTransactionDetails,dropDownContent:dropDownContent});}var dropDownContent=function dropDownContent(){return React.createElement(React.Fragment,null,renderTransactionDetails(),React.createElement(SlippageSelector,null,React.createElement(SlippageRow,null,\"Limit additional price slippage\",React.createElement(QuestionWrapper,{onClick:function onClick(){setPopup(!showPopup);},onMouseEnter:function onMouseEnter(){setPopup(true);},onMouseLeave:function onMouseLeave(){setPopup(false);}},React.createElement(HelpCircleStyled,{src:question,alt:\"popup\"})),showPopup?React.createElement(Popup,null,\"Lowering this limit decreases your risk of frontrunning. However, this makes it more likely that your transaction will fail due to normal price movements.\"):''),React.createElement(SlippageRow,{wrap:true},React.createElement(Option,{onClick:function onClick(){setFromFixed(1,0.1);},active:activeIndex===1},\"0.1%\"),React.createElement(OptionLarge,{onClick:function onClick(){setFromFixed(2,0.5);},active:activeIndex===2},\"0.5% \",React.createElement(Faded,null,\"(suggested)\")),React.createElement(Option,{onClick:function onClick(){setFromFixed(3,1);},active:activeIndex===3},\"1%\"),React.createElement(OptionCustom,{active:activeIndex===4,color:warningType===WARNING_TYPE.emptyInput?'':warningType!==WARNING_TYPE.none&&warningType!==WARNING_TYPE.riskyEntryLow?'red':'',onClick:function onClick(){setFromCustom();}},React.createElement(FlexBetween,null,!(warningType===WARNING_TYPE.none||warningType===WARNING_TYPE.emptyInput)&&React.createElement(\"span\",{role:\"img\",\"aria-label\":\"warning\"},\"\\u26A0\\uFE0F\"),React.createElement(Input,{tabIndex:-1,ref:inputRef,active:activeIndex===4,placeholder:activeIndex===4?!!userInput?'':'0':activeIndex!==4&&userInput!==''?userInput:'Custom',value:activeIndex===4?userInput:'',onChange:parseInput,color:warningType===WARNING_TYPE.emptyInput?'':warningType!==WARNING_TYPE.none&&warningType!==WARNING_TYPE.riskyEntryLow?'red':''}),React.createElement(Percent,{color:activeIndex!==4?'faded':warningType===WARNING_TYPE.riskyEntryHigh||warningType===WARNING_TYPE.invalidEntryBound?'red':''},\"%\")))),React.createElement(SlippageRow,null,React.createElement(BottomError,{show:activeIndex===4,color:warningType===WARNING_TYPE.emptyInput?'':warningType!==WARNING_TYPE.none&&warningType!==WARNING_TYPE.riskyEntryLow?'red':''},activeIndex===4&&warningType.toString()==='none'&&'Custom slippage value',warningType===WARNING_TYPE.emptyInput&&'Enter a slippage percentage',warningType===WARNING_TYPE.invalidEntryBound&&'Please select a value no greater than 50%',warningType===WARNING_TYPE.riskyEntryHigh&&'Your transaction may be frontrun',warningType===WARNING_TYPE.riskyEntryLow&&'Your transaction may fail'))),React.createElement(DeadlineSelector,null,\"Set swap deadline (minutes from now)\",React.createElement(DeadlineRow,{wrap:true},React.createElement(DeadlineInput,null,React.createElement(Input,{placeholder:'Deadline',value:deadlineInput,onChange:parseDeadlineInput})))));};var setFromCustom=function setFromCustom(){setActiveIndex(4);inputRef.current.focus();// if there's a value, evaluate the bounds\ncheckBounds(debouncedInput);};// destructure props for to limit effect callbacks\nvar setRawSlippage=props.setRawSlippage;var setRawTokenSlippage=props.setRawTokenSlippage;var setcustomSlippageError=props.setcustomSlippageError;var setDeadline=props.setDeadline;var updateSlippage=useCallback(function(newSlippage){// round to 2 decimals to prevent ethers error\nvar numParsed=parseInt(newSlippage*100);// set both slippage values in parents\nsetRawSlippage(numParsed);setRawTokenSlippage(numParsed);},[setRawSlippage,setRawTokenSlippage]);// used for slippage presets\nvar setFromFixed=useCallback(function(index,slippage){// update slippage in parent, reset errors and input state\nupdateSlippage(slippage);setWarningType(WARNING_TYPE.none);setActiveIndex(index);setcustomSlippageError('valid`');},[setcustomSlippageError,updateSlippage]);/**\n   * @todo\n   * Breaks without useState here, able to\n   * break input parsing if typing is faster than\n   * debounce time\n   */var _useState11=useState(props.rawSlippage),_useState12=_slicedToArray(_useState11,1),initialSlippage=_useState12[0];useEffect(function(){switch(Number.parseInt(initialSlippage)){case 10:setFromFixed(1,0.1);break;case 50:setFromFixed(2,0.5);break;case 100:setFromFixed(3,1);break;default:// restrict to 2 decimal places\nvar acceptableValues=[/^$/,/^\\d{1,2}$/,/^\\d{0,2}\\.\\d{0,2}$/];// if its within accepted decimal limit, update the input state\nif(acceptableValues.some(function(val){return val.test(initialSlippage/100);})){setUserInput(initialSlippage/100);setActiveIndex(4);}}},[initialSlippage,setFromFixed]);var checkBounds=useCallback(function(slippageValue){setWarningType(WARNING_TYPE.none);setcustomSlippageError('valid');if(slippageValue===''||slippageValue==='.'){setcustomSlippageError('invalid');return setWarningType(WARNING_TYPE.emptyInput);}// check bounds and set errors\nif(Number(slippageValue)<0||Number(slippageValue)>50){setcustomSlippageError('invalid');return setWarningType(WARNING_TYPE.invalidEntryBound);}if(Number(slippageValue)>=0&&Number(slippageValue)<0.1){setcustomSlippageError('valid');setWarningType(WARNING_TYPE.riskyEntryLow);}if(Number(slippageValue)>5){setcustomSlippageError('warning');setWarningType(WARNING_TYPE.riskyEntryHigh);}//update the actual slippage value in parent\nupdateSlippage(Number(slippageValue));},[setcustomSlippageError,updateSlippage]);// check that the theyve entered number and correct decimal\nvar parseInput=function parseInput(e){var input=e.target.value;// restrict to 2 decimal places\nvar acceptableValues=[/^$/,/^\\d{1,2}$/,/^\\d{0,2}\\.\\d{0,2}$/];// if its within accepted decimal limit, update the input state\nif(acceptableValues.some(function(a){return a.test(input);})){setUserInput(input);}};var _useState13=useState(props.deadline),_useState14=_slicedToArray(_useState13,1),initialDeadline=_useState14[0];useEffect(function(){setDeadlineInput(initialDeadline/60);},[initialDeadline]);var parseDeadlineInput=function parseDeadlineInput(e){var input=e.target.value;var acceptableValues=[/^$/,/^\\d+$/];if(acceptableValues.some(function(re){return re.test(input);})){setDeadlineInput(input);setDeadline(parseInt(input)*60);}};var b=function b(text){return React.createElement(Bold,null,text);};var renderTransactionDetails=function renderTransactionDetails(){if(props.independentField===props.INPUT){return props.sending?React.createElement(TransactionInfo,null,React.createElement(\"div\",null,t('youAreSelling'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.independentValueParsed,props.independentDecimals,Math.min(4,props.independentDecimals)),\" \").concat(props.inputSymbol)))),React.createElement(LastSummaryText,null,b(props.recipientAddress),\" \",t('willReceive'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.dependentValueMinumum,props.dependentDecimals,Math.min(4,props.dependentDecimals)),\" \").concat(props.outputSymbol))),' '),React.createElement(LastSummaryText,null,t('priceChange'),\" \",React.createElement(ValueWrapper,null,b(\"\".concat(props.percentSlippageFormatted,\"%\"))))):React.createElement(TransactionInfo,null,React.createElement(\"div\",null,t('youAreSelling'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.independentValueParsed,props.independentDecimals,Math.min(4,props.independentDecimals)),\" \").concat(props.inputSymbol))),' ',t('forAtLeast'),React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.dependentValueMinumum,props.dependentDecimals,Math.min(4,props.dependentDecimals)),\" \").concat(props.outputSymbol)))),React.createElement(LastSummaryText,null,t('priceChange'),\" \",React.createElement(ValueWrapper,null,b(\"\".concat(props.percentSlippageFormatted,\"%\")))));}else{return props.sending?React.createElement(TransactionInfo,null,React.createElement(\"div\",null,t('youAreSending'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.independentValueParsed,props.independentDecimals,Math.min(4,props.independentDecimals)),\" \").concat(props.outputSymbol))),' ',t('to'),\" \",b(props.recipientAddress),\" \",t('forAtMost'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.dependentValueMaximum,props.dependentDecimals,Math.min(4,props.dependentDecimals)),\" \").concat(props.inputSymbol))),' '),React.createElement(LastSummaryText,null,t('priceChange'),\" \",React.createElement(ValueWrapper,null,b(\"\".concat(props.percentSlippageFormatted,\"%\"))))):React.createElement(TransactionInfo,null,t('youAreBuying'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.independentValueParsed,props.independentDecimals,Math.min(4,props.independentDecimals)),\" \").concat(props.outputSymbol))),' ',t('forAtMost'),' ',React.createElement(ValueWrapper,null,b(\"\".concat(amountFormatter(props.dependentValueMaximum,props.dependentDecimals,Math.min(4,props.dependentDecimals)),\" \").concat(props.inputSymbol))),' ',React.createElement(LastSummaryText,null,t('priceChange'),\" \",React.createElement(ValueWrapper,null,b(\"\".concat(props.percentSlippageFormatted,\"%\")))));}};return React.createElement(React.Fragment,null,renderSummary());}","map":{"version":3,"sources":["/workspace/uniswap-exchange/src/components/TransactionDetails/index.js"],"names":["React","useState","useEffect","useRef","useCallback","useTranslation","styled","css","keyframes","darken","lighten","isAddress","amountFormatter","useDebounce","NewContextualInfo","WARNING_TYPE","Object","freeze","none","emptyInput","invalidEntryBound","riskyEntryHigh","riskyEntryLow","Flex","div","FlexBetween","WrappedSlippageRow","wrap","rest","SlippageRow","QuestionWrapper","button","HelpCircleStyled","img","fadeIn","Popup","theme","inputBackground","mercuryGray","textColor","mediaWidth","upToSmall","FancyButton","chaliceGray","royalBlue","Option","active","white","OptionLarge","Input","input","doveGray","placeholder","color","salmonRed","BottomError","show","OptionCustom","Bold","span","LastSummaryText","SlippageSelector","concreteGray","Percent","Faded","TransactionInfo","ValueWrapper","DeadlineSelector","DeadlineRow","DeadlineInput","TransactionDetails","props","t","activeIndex","setActiveIndex","warningType","setWarningType","inputRef","showPopup","setPopup","userInput","setUserInput","debouncedInput","checkBounds","deadlineInput","setDeadlineInput","renderSummary","contextualInfo","isError","inputError","independentError","inputCurrency","outputCurrency","independentValue","sending","recipientAddress","account","slippageWarningText","highSlippageWarning","slippageWarning","inputValueParsed","outputValueParsed","renderTransactionDetails","dropDownContent","question","setFromFixed","setFromCustom","parseInput","toString","parseDeadlineInput","current","focus","setRawSlippage","setRawTokenSlippage","setcustomSlippageError","setDeadline","updateSlippage","newSlippage","numParsed","parseInt","index","slippage","rawSlippage","initialSlippage","Number","acceptableValues","some","val","test","slippageValue","e","target","value","a","deadline","initialDeadline","re","b","text","independentField","INPUT","independentValueParsed","independentDecimals","Math","min","inputSymbol","dependentValueMinumum","dependentDecimals","outputSymbol","percentSlippageFormatted","dependentValueMaximum"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport styled, { css, keyframes } from 'styled-components'\nimport { darken, lighten } from 'polished'\nimport { isAddress, amountFormatter } from '../../utils'\nimport { useDebounce } from '../../hooks'\n\nimport question from '../../assets/images/question.svg'\n\nimport NewContextualInfo from '../../components/ContextualInfoNew'\n\nconst WARNING_TYPE = Object.freeze({\n  none: 'none',\n  emptyInput: 'emptyInput',\n  invalidEntryBound: 'invalidEntryBound',\n  riskyEntryHigh: 'riskyEntryHigh',\n  riskyEntryLow: 'riskyEntryLow'\n})\n\nconst Flex = styled.div`\n  display: flex;\n  justify-content: center;\n`\n\nconst FlexBetween = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%;\n`\n\nconst WrappedSlippageRow = ({ wrap, ...rest }) => <Flex {...rest} />\nconst SlippageRow = styled(WrappedSlippageRow)`\n  position: relative;\n  flex-wrap: ${({ wrap }) => wrap && 'wrap'};\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  padding: 0;\n  padding-top: ${({ wrap }) => wrap && '0.25rem'};\n`\n\nconst QuestionWrapper = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n  margin-left: 0.4rem;\n  padding: 0.2rem;\n  border: none;\n  background: none;\n  outline: none;\n  cursor: default;\n  border-radius: 36px;\n\n  :hover,\n  :focus {\n    opacity: 0.7;\n  }\n`\n\nconst HelpCircleStyled = styled.img`\n  height: 18px;\n  width: 18px;\n`\n\nconst fadeIn = keyframes`\n  from {\n    opacity : 0;\n  }\n\n  to {\n    opacity : 1;\n  }\n`\n\nconst Popup = styled(Flex)`\n  position: absolute;\n  width: 228px;\n  left: -78px;\n  top: -94px;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.6rem 1rem;\n  line-height: 150%;\n  background: ${({ theme }) => theme.inputBackground};\n  border: 1px solid ${({ theme }) => theme.mercuryGray};\n\n  border-radius: 8px;\n\n  animation: ${fadeIn} 0.15s linear;\n\n  color: ${({ theme }) => theme.textColor};\n  font-style: italic;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    left: -20px;\n  `}\n`\n\nconst FancyButton = styled.button`\n  color: ${({ theme }) => theme.textColor};\n  align-items: center;\n  min-width: 55px;\n  height: 2rem;\n  border-radius: 36px;\n  font-size: 12px;\n  border: 1px solid ${({ theme }) => theme.mercuryGray};\n  outline: none;\n  background: ${({ theme }) => theme.inputBackground};\n\n  :hover {\n    cursor: inherit;\n    border: 1px solid ${({ theme }) => theme.chaliceGray};\n  }\n  :focus {\n    border: 1px solid ${({ theme }) => theme.royalBlue};\n  }\n`\n\nconst Option = styled(FancyButton)`\n  margin-right: 8px;\n  margin-top: 6px;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  ${({ active, theme }) =>\n    active &&\n    css`\n      background-color: ${({ theme }) => theme.royalBlue};\n      color: ${({ theme }) => theme.white};\n      border: none;\n\n      :hover {\n        border: none;\n        box-shadow: none;\n        background-color: ${({ theme }) => darken(0.05, theme.royalBlue)};\n      }\n\n      :focus {\n        border: none;\n        box-shadow: none;\n        background-color: ${({ theme }) => lighten(0.05, theme.royalBlue)};\n      }\n\n      :active {\n        background-color: ${({ theme }) => darken(0.05, theme.royalBlue)};\n      }\n\n      :hover:focus {\n        background-color: ${({ theme }) => theme.royalBlue};\n      }\n      :hover:focus:active {\n        background-color: ${({ theme }) => darken(0.05, theme.royalBlue)};\n      }\n    `}\n`\n\nconst OptionLarge = styled(Option)`\n  width: 120px;\n`\n\nconst Input = styled.input`\n  background: ${({ theme }) => theme.inputBackground};\n  flex-grow: 1;\n  font-size: 12px;\n  min-width: 20px;\n\n  outline: none;\n  box-sizing: border-box;\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  cursor: inherit;\n\n  color: ${({ theme }) => theme.doveGray};\n  text-align: left;\n  ${({ active }) =>\n    active &&\n    css`\n      color: initial;\n      cursor: initial;\n      text-align: right;\n    `}\n\n  ${({ placeholder }) =>\n    placeholder !== 'Custom' &&\n    css`\n      text-align: right;\n      color: ${({ theme }) => theme.textColor};\n    `}\n\n  ${({ color }) =>\n    color === 'red' &&\n    css`\n      color: ${({ theme }) => theme.salmonRed};\n    `}\n`\n\nconst BottomError = styled.div`\n  ${({ show }) =>\n    show &&\n    css`\n      padding-top: 12px;\n    `}\n  color: ${({ theme }) => theme.doveGray};\n  ${({ color }) =>\n    color === 'red' &&\n    css`\n      color: ${({ theme }) => theme.salmonRed};\n    `}\n`\n\nconst OptionCustom = styled(FancyButton)`\n  height: 2rem;\n  position: relative;\n  width: 120px;\n  margin-top: 6px;\n  padding: 0 0.75rem;\n\n  ${({ active }) =>\n    active &&\n    css`\n      border: 1px solid ${({ theme }) => theme.royalBlue};\n      :hover {\n        border: 1px solid ${({ theme }) => darken(0.1, theme.royalBlue)};\n      }\n    `}\n\n  ${({ color }) =>\n    color === 'red' &&\n    css`\n      border: 1px solid ${({ theme }) => theme.salmonRed};\n    `}\n\n  input {\n    width: 100%;\n    height: 100%;\n    border: 0px;\n    border-radius: 2rem;\n  }\n`\n\nconst Bold = styled.span`\n  font-weight: 500;\n`\n\nconst LastSummaryText = styled.div`\n  padding-top: 0.5rem;\n`\n\nconst SlippageSelector = styled.div`\n  background-color: ${({ theme }) => darken(0.04, theme.concreteGray)};\n  padding: 1rem 1.25rem 1rem 1.25rem;\n  border-radius: 12px 12px 0 0;\n`\n\nconst Percent = styled.div`\n  color: inherit;\n  font-size: 0, 8rem;\n  flex-grow: 0;\n\n  ${({ color, theme }) =>\n    (color === 'faded' &&\n      css`\n        color: ${theme.doveGray};\n      `) ||\n    (color === 'red' &&\n      css`\n        color: ${theme.salmonRed};\n      `)};\n`\n\nconst Faded = styled.span`\n  opacity: 0.7;\n`\n\nconst TransactionInfo = styled.div`\n  padding: 1.25rem 1.25rem 1rem 1.25rem;\n`\n\nconst ValueWrapper = styled.span`\n  padding: 0.125rem 0.3rem 0.1rem 0.3rem;\n  background-color: ${({ theme }) => darken(0.04, theme.concreteGray)};\n  border-radius: 12px;\n  font-variant: tabular-nums;\n`\n\nconst DeadlineSelector = styled.div`\n  background-color: ${({ theme }) => darken(0.04, theme.concreteGray)};\n  padding: 1rem 1.25rem 1rem 1.25rem;\n  border-radius: 0 0 12px 12px;\n`\nconst DeadlineRow = SlippageRow\nconst DeadlineInput = OptionCustom\n\nexport default function TransactionDetails(props) {\n  const { t } = useTranslation()\n\n  const [activeIndex, setActiveIndex] = useState(3)\n\n  const [warningType, setWarningType] = useState(WARNING_TYPE.none)\n\n  const inputRef = useRef()\n\n  const [showPopup, setPopup] = useState(false)\n\n  const [userInput, setUserInput] = useState('')\n  const debouncedInput = useDebounce(userInput, 150)\n\n  useEffect(() => {\n    if (activeIndex === 4) {\n      checkBounds(debouncedInput)\n    }\n  })\n\n  const [deadlineInput, setDeadlineInput] = useState('')\n\n  function renderSummary() {\n    let contextualInfo = ''\n    let isError = false\n\n    if (props.inputError || props.independentError) {\n      contextualInfo = props.inputError || props.independentError\n      isError = true\n    } else if (!props.inputCurrency || !props.outputCurrency) {\n      contextualInfo = t('selectTokenCont')\n    } else if (!props.independentValue) {\n      contextualInfo = t('enterValueCont')\n    } else if (props.sending && !props.recipientAddress) {\n      contextualInfo = t('noRecipient')\n    } else if (props.sending && !isAddress(props.recipientAddress)) {\n      contextualInfo = t('invalidRecipient')\n    } else if (!props.account) {\n      contextualInfo = t('noWallet')\n      isError = true\n    }\n\n    const slippageWarningText = props.highSlippageWarning\n      ? t('highSlippageWarning')\n      : props.slippageWarning\n      ? t('slippageWarning')\n      : ''\n\n    return (\n      <NewContextualInfo\n        openDetailsText={t('transactionDetails')}\n        closeDetailsText={t('hideDetails')}\n        contextualInfo={contextualInfo ? contextualInfo : slippageWarningText}\n        allowExpand={\n          !!(\n            props.inputCurrency &&\n            props.outputCurrency &&\n            props.inputValueParsed &&\n            props.outputValueParsed &&\n            (props.sending ? props.recipientAddress : true)\n          )\n        }\n        isError={isError}\n        slippageWarning={props.slippageWarning && !contextualInfo}\n        highSlippageWarning={props.highSlippageWarning && !contextualInfo}\n        renderTransactionDetails={renderTransactionDetails}\n        dropDownContent={dropDownContent}\n      />\n    )\n  }\n\n  const dropDownContent = () => {\n    return (\n      <>\n        {renderTransactionDetails()}\n        <SlippageSelector>\n          <SlippageRow>\n            Limit additional price slippage\n            <QuestionWrapper\n              onClick={() => {\n                setPopup(!showPopup)\n              }}\n              onMouseEnter={() => {\n                setPopup(true)\n              }}\n              onMouseLeave={() => {\n                setPopup(false)\n              }}\n            >\n              <HelpCircleStyled src={question} alt=\"popup\" />\n            </QuestionWrapper>\n            {showPopup ? (\n              <Popup>\n                Lowering this limit decreases your risk of frontrunning. However, this makes it more likely that your\n                transaction will fail due to normal price movements.\n              </Popup>\n            ) : (\n              ''\n            )}\n          </SlippageRow>\n          <SlippageRow wrap>\n            <Option\n              onClick={() => {\n                setFromFixed(1, 0.1)\n              }}\n              active={activeIndex === 1}\n            >\n              0.1%\n            </Option>\n            <OptionLarge\n              onClick={() => {\n                setFromFixed(2, 0.5)\n              }}\n              active={activeIndex === 2}\n            >\n              0.5% <Faded>(suggested)</Faded>\n            </OptionLarge>\n            <Option\n              onClick={() => {\n                setFromFixed(3, 1)\n              }}\n              active={activeIndex === 3}\n            >\n              1%\n            </Option>\n            <OptionCustom\n              active={activeIndex === 4}\n              color={\n                warningType === WARNING_TYPE.emptyInput\n                  ? ''\n                  : warningType !== WARNING_TYPE.none && warningType !== WARNING_TYPE.riskyEntryLow\n                  ? 'red'\n                  : ''\n              }\n              onClick={() => {\n                setFromCustom()\n              }}\n            >\n              <FlexBetween>\n                {!(warningType === WARNING_TYPE.none || warningType === WARNING_TYPE.emptyInput) && (\n                  <span role=\"img\" aria-label=\"warning\">\n                    \n                  </span>\n                )}\n                <Input\n                  tabIndex={-1}\n                  ref={inputRef}\n                  active={activeIndex === 4}\n                  placeholder={\n                    activeIndex === 4\n                      ? !!userInput\n                        ? ''\n                        : '0'\n                      : activeIndex !== 4 && userInput !== ''\n                      ? userInput\n                      : 'Custom'\n                  }\n                  value={activeIndex === 4 ? userInput : ''}\n                  onChange={parseInput}\n                  color={\n                    warningType === WARNING_TYPE.emptyInput\n                      ? ''\n                      : warningType !== WARNING_TYPE.none && warningType !== WARNING_TYPE.riskyEntryLow\n                      ? 'red'\n                      : ''\n                  }\n                />\n                <Percent\n                  color={\n                    activeIndex !== 4\n                      ? 'faded'\n                      : warningType === WARNING_TYPE.riskyEntryHigh || warningType === WARNING_TYPE.invalidEntryBound\n                      ? 'red'\n                      : ''\n                  }\n                >\n                  %\n                </Percent>\n              </FlexBetween>\n            </OptionCustom>\n          </SlippageRow>\n          <SlippageRow>\n            <BottomError\n              show={activeIndex === 4}\n              color={\n                warningType === WARNING_TYPE.emptyInput\n                  ? ''\n                  : warningType !== WARNING_TYPE.none && warningType !== WARNING_TYPE.riskyEntryLow\n                  ? 'red'\n                  : ''\n              }\n            >\n              {activeIndex === 4 && warningType.toString() === 'none' && 'Custom slippage value'}\n              {warningType === WARNING_TYPE.emptyInput && 'Enter a slippage percentage'}\n              {warningType === WARNING_TYPE.invalidEntryBound && 'Please select a value no greater than 50%'}\n              {warningType === WARNING_TYPE.riskyEntryHigh && 'Your transaction may be frontrun'}\n              {warningType === WARNING_TYPE.riskyEntryLow && 'Your transaction may fail'}\n            </BottomError>\n          </SlippageRow>\n        </SlippageSelector>\n        <DeadlineSelector>\n          Set swap deadline (minutes from now)\n          <DeadlineRow wrap>\n            <DeadlineInput>\n              <Input placeholder={'Deadline'} value={deadlineInput} onChange={parseDeadlineInput} />\n            </DeadlineInput>\n          </DeadlineRow>\n        </DeadlineSelector>\n      </>\n    )\n  }\n\n  const setFromCustom = () => {\n    setActiveIndex(4)\n    inputRef.current.focus()\n    // if there's a value, evaluate the bounds\n    checkBounds(debouncedInput)\n  }\n\n  // destructure props for to limit effect callbacks\n  const setRawSlippage = props.setRawSlippage\n  const setRawTokenSlippage = props.setRawTokenSlippage\n  const setcustomSlippageError = props.setcustomSlippageError\n  const setDeadline = props.setDeadline\n\n  const updateSlippage = useCallback(\n    newSlippage => {\n      // round to 2 decimals to prevent ethers error\n      let numParsed = parseInt(newSlippage * 100)\n\n      // set both slippage values in parents\n      setRawSlippage(numParsed)\n      setRawTokenSlippage(numParsed)\n    },\n    [setRawSlippage, setRawTokenSlippage]\n  )\n\n  // used for slippage presets\n  const setFromFixed = useCallback(\n    (index, slippage) => {\n      // update slippage in parent, reset errors and input state\n      updateSlippage(slippage)\n      setWarningType(WARNING_TYPE.none)\n      setActiveIndex(index)\n      setcustomSlippageError('valid`')\n    },\n    [setcustomSlippageError, updateSlippage]\n  )\n\n  /**\n   * @todo\n   * Breaks without useState here, able to\n   * break input parsing if typing is faster than\n   * debounce time\n   */\n\n  const [initialSlippage] = useState(props.rawSlippage)\n\n  useEffect(() => {\n    switch (Number.parseInt(initialSlippage)) {\n      case 10:\n        setFromFixed(1, 0.1)\n        break\n      case 50:\n        setFromFixed(2, 0.5)\n        break\n      case 100:\n        setFromFixed(3, 1)\n        break\n      default:\n        // restrict to 2 decimal places\n        let acceptableValues = [/^$/, /^\\d{1,2}$/, /^\\d{0,2}\\.\\d{0,2}$/]\n        // if its within accepted decimal limit, update the input state\n        if (acceptableValues.some(val => val.test(initialSlippage / 100))) {\n          setUserInput(initialSlippage / 100)\n          setActiveIndex(4)\n        }\n    }\n  }, [initialSlippage, setFromFixed])\n\n  const checkBounds = useCallback(\n    slippageValue => {\n      setWarningType(WARNING_TYPE.none)\n      setcustomSlippageError('valid')\n\n      if (slippageValue === '' || slippageValue === '.') {\n        setcustomSlippageError('invalid')\n        return setWarningType(WARNING_TYPE.emptyInput)\n      }\n\n      // check bounds and set errors\n      if (Number(slippageValue) < 0 || Number(slippageValue) > 50) {\n        setcustomSlippageError('invalid')\n        return setWarningType(WARNING_TYPE.invalidEntryBound)\n      }\n      if (Number(slippageValue) >= 0 && Number(slippageValue) < 0.1) {\n        setcustomSlippageError('valid')\n        setWarningType(WARNING_TYPE.riskyEntryLow)\n      }\n      if (Number(slippageValue) > 5) {\n        setcustomSlippageError('warning')\n        setWarningType(WARNING_TYPE.riskyEntryHigh)\n      }\n      //update the actual slippage value in parent\n      updateSlippage(Number(slippageValue))\n    },\n    [setcustomSlippageError, updateSlippage]\n  )\n\n  // check that the theyve entered number and correct decimal\n  const parseInput = e => {\n    let input = e.target.value\n\n    // restrict to 2 decimal places\n    let acceptableValues = [/^$/, /^\\d{1,2}$/, /^\\d{0,2}\\.\\d{0,2}$/]\n    // if its within accepted decimal limit, update the input state\n    if (acceptableValues.some(a => a.test(input))) {\n      setUserInput(input)\n    }\n  }\n\n  const [initialDeadline] = useState(props.deadline)\n\n  useEffect(() => {\n    setDeadlineInput(initialDeadline / 60)\n  }, [initialDeadline])\n\n  const parseDeadlineInput = e => {\n    const input = e.target.value\n\n    const acceptableValues = [/^$/, /^\\d+$/]\n    if (acceptableValues.some(re => re.test(input))) {\n      setDeadlineInput(input)\n      setDeadline(parseInt(input) * 60)\n    }\n  }\n\n  const b = text => <Bold>{text}</Bold>\n\n  const renderTransactionDetails = () => {\n    if (props.independentField === props.INPUT) {\n      return props.sending ? (\n        <TransactionInfo>\n          <div>\n            {t('youAreSelling')}{' '}\n            <ValueWrapper>\n              {b(\n                `${amountFormatter(\n                  props.independentValueParsed,\n                  props.independentDecimals,\n                  Math.min(4, props.independentDecimals)\n                )} ${props.inputSymbol}`\n              )}\n            </ValueWrapper>\n          </div>\n          <LastSummaryText>\n            {b(props.recipientAddress)} {t('willReceive')}{' '}\n            <ValueWrapper>\n              {b(\n                `${amountFormatter(\n                  props.dependentValueMinumum,\n                  props.dependentDecimals,\n                  Math.min(4, props.dependentDecimals)\n                )} ${props.outputSymbol}`\n              )}\n            </ValueWrapper>{' '}\n          </LastSummaryText>\n          <LastSummaryText>\n            {t('priceChange')} <ValueWrapper>{b(`${props.percentSlippageFormatted}%`)}</ValueWrapper>\n          </LastSummaryText>\n        </TransactionInfo>\n      ) : (\n        <TransactionInfo>\n          <div>\n            {t('youAreSelling')}{' '}\n            <ValueWrapper>\n              {b(\n                `${amountFormatter(\n                  props.independentValueParsed,\n                  props.independentDecimals,\n                  Math.min(4, props.independentDecimals)\n                )} ${props.inputSymbol}`\n              )}\n            </ValueWrapper>{' '}\n            {t('forAtLeast')}\n            <ValueWrapper>\n              {b(\n                `${amountFormatter(\n                  props.dependentValueMinumum,\n                  props.dependentDecimals,\n                  Math.min(4, props.dependentDecimals)\n                )} ${props.outputSymbol}`\n              )}\n            </ValueWrapper>\n          </div>\n          <LastSummaryText>\n            {t('priceChange')} <ValueWrapper>{b(`${props.percentSlippageFormatted}%`)}</ValueWrapper>\n          </LastSummaryText>\n        </TransactionInfo>\n      )\n    } else {\n      return props.sending ? (\n        <TransactionInfo>\n          <div>\n            {t('youAreSending')}{' '}\n            <ValueWrapper>\n              {b(\n                `${amountFormatter(\n                  props.independentValueParsed,\n                  props.independentDecimals,\n                  Math.min(4, props.independentDecimals)\n                )} ${props.outputSymbol}`\n              )}\n            </ValueWrapper>{' '}\n            {t('to')} {b(props.recipientAddress)} {t('forAtMost')}{' '}\n            <ValueWrapper>\n              {b(\n                `${amountFormatter(\n                  props.dependentValueMaximum,\n                  props.dependentDecimals,\n                  Math.min(4, props.dependentDecimals)\n                )} ${props.inputSymbol}`\n              )}\n            </ValueWrapper>{' '}\n          </div>\n          <LastSummaryText>\n            {t('priceChange')} <ValueWrapper>{b(`${props.percentSlippageFormatted}%`)}</ValueWrapper>\n          </LastSummaryText>\n        </TransactionInfo>\n      ) : (\n        <TransactionInfo>\n          {t('youAreBuying')}{' '}\n          <ValueWrapper>\n            {b(\n              `${amountFormatter(\n                props.independentValueParsed,\n                props.independentDecimals,\n                Math.min(4, props.independentDecimals)\n              )} ${props.outputSymbol}`\n            )}\n          </ValueWrapper>{' '}\n          {t('forAtMost')}{' '}\n          <ValueWrapper>\n            {b(\n              `${amountFormatter(\n                props.dependentValueMaximum,\n                props.dependentDecimals,\n                Math.min(4, props.dependentDecimals)\n              )} ${props.inputSymbol}`\n            )}\n          </ValueWrapper>{' '}\n          <LastSummaryText>\n            {t('priceChange')} <ValueWrapper>{b(`${props.percentSlippageFormatted}%`)}</ValueWrapper>\n          </LastSummaryText>\n        </TransactionInfo>\n      )\n    }\n  }\n  return <>{renderSummary()}</>\n}\n"]},"metadata":{},"sourceType":"module"}