{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/workspace/uniswap-exchange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import{FortmaticConnector as FortmaticConnectorCore}from\"@web3-react/fortmatic-connector\";export var OVERLAY_READY=\"OVERLAY_READY\";var chainIdToNetwork={1:\"mainnet\",3:\"ropsten\",4:\"rinkeby\",42:\"kovan\"};export var FortmaticConnector=/*#__PURE__*/function(_FortmaticConnectorCo){_inherits(FortmaticConnector,_FortmaticConnectorCo);function FortmaticConnector(){_classCallCheck(this,FortmaticConnector);return _possibleConstructorReturn(this,_getPrototypeOf(FortmaticConnector).apply(this,arguments));}_createClass(FortmaticConnector,[{key:\"activate\",value:function(){var _activate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this=this;var _ref,Fortmatic,provider,pollForOverlayReady,_ref2,_ref3,account;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.fortmatic){_context.next=6;break;}_context.next=3;return import(\"fortmatic\");case 3:_ref=_context.sent;Fortmatic=_ref.default;this.fortmatic=new Fortmatic(this.apiKey,this.chainId===1||this.chainId===4?undefined:chainIdToNetwork[this.chainId]);case 6:provider=this.fortmatic.getProvider();pollForOverlayReady=new Promise(function(resolve){var interval=setInterval(function(){if(provider.overlayReady){clearInterval(interval);_this.emit(OVERLAY_READY);resolve();}},200);});_context.next=10;return Promise.all([provider.enable().then(function(accounts){return accounts[0];}),pollForOverlayReady]);case 10:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,1);account=_ref3[0];return _context.abrupt(\"return\",{provider:this.fortmatic.getProvider(),chainId:this.chainId,account:account});case 14:case\"end\":return _context.stop();}}},_callee,this);}));function activate(){return _activate.apply(this,arguments);}return activate;}()}]);return FortmaticConnector;}(FortmaticConnectorCore);","map":{"version":3,"sources":["/workspace/uniswap-exchange/src/connectors/Fortmatic.js"],"names":["FortmaticConnector","FortmaticConnectorCore","OVERLAY_READY","chainIdToNetwork","fortmatic","Fortmatic","default","apiKey","chainId","undefined","provider","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","then","accounts","account"],"mappings":"2pCAAA,OAASA,kBAAkB,GAAIC,CAAAA,sBAA/B,KAA6D,iCAA7D,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,eAAtB,CAEP,GAAMC,CAAAA,gBAAgB,CAAG,CACvB,EAAG,SADoB,CAEvB,EAAG,SAFoB,CAGvB,EAAG,SAHoB,CAIvB,GAAI,OAJmB,CAAzB,CAOA,UAAaH,CAAAA,kBAAb,6mBAES,KAAKI,SAFd,+CAG2C,QAAO,WAAP,CAH3C,2BAGuBC,SAHvB,MAGcC,OAHd,CAIM,KAAKF,SAAL,CAAiB,GAAIC,CAAAA,SAAJ,CACf,KAAKE,MADU,CAEf,KAAKC,OAAL,GAAiB,CAAjB,EAAsB,KAAKA,OAAL,GAAiB,CAAvC,CACIC,SADJ,CAEIN,gBAAgB,CAAC,KAAKK,OAAN,CAJL,CAAjB,CAJN,OAYUE,QAZV,CAYqB,KAAKN,SAAL,CAAeO,WAAf,EAZrB,CAcUC,mBAdV,CAcgC,GAAIC,CAAAA,OAAJ,CAAY,SAAAC,OAAO,CAAI,CACjD,GAAMC,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjC,GAAIN,QAAQ,CAACO,YAAb,CAA2B,CACzBC,aAAa,CAACH,QAAD,CAAb,CACA,KAAI,CAACI,IAAL,CAAUjB,aAAV,EACAY,OAAO,GACR,CACF,CAN2B,CAMzB,GANyB,CAA5B,CAOD,CAR2B,CAdhC,wBAwB4BD,CAAAA,OAAO,CAACO,GAAR,CAAY,CAClCV,QAAQ,CAACW,MAAT,GAAkBC,IAAlB,CAAuB,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAAC,CAAD,CAAZ,EAA/B,CADkC,CAElCX,mBAFkC,CAAZ,CAxB5B,2DAwBWY,OAxBX,0CA6BW,CACLd,QAAQ,CAAE,KAAKN,SAAL,CAAeO,WAAf,EADL,CAELH,OAAO,CAAE,KAAKA,OAFT,CAGLgB,OAAO,CAAPA,OAHK,CA7BX,gLAAwCvB,sBAAxC","sourcesContent":["import { FortmaticConnector as FortmaticConnectorCore } from \"@web3-react/fortmatic-connector\";\n\nexport const OVERLAY_READY = \"OVERLAY_READY\";\n\nconst chainIdToNetwork = {\n  1: \"mainnet\",\n  3: \"ropsten\",\n  4: \"rinkeby\",\n  42: \"kovan\"\n};\n\nexport class FortmaticConnector extends FortmaticConnectorCore {\n  async activate() {\n    if (!this.fortmatic) {\n      const { default: Fortmatic } = await import(\"fortmatic\");\n      this.fortmatic = new Fortmatic(\n        this.apiKey,\n        this.chainId === 1 || this.chainId === 4\n          ? undefined\n          : chainIdToNetwork[this.chainId]\n      );\n    }\n\n    const provider = this.fortmatic.getProvider();\n\n    const pollForOverlayReady = new Promise(resolve => {\n      const interval = setInterval(() => {\n        if (provider.overlayReady) {\n          clearInterval(interval);\n          this.emit(OVERLAY_READY);\n          resolve();\n        }\n      }, 200);\n    });\n\n    const [account] = await Promise.all([\n      provider.enable().then(accounts => accounts[0]),\n      pollForOverlayReady\n    ]);\n\n    return {\n      provider: this.fortmatic.getProvider(),\n      chainId: this.chainId,\n      account\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"module"}